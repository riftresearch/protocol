{"abi":[{"type":"function","name":"checkpoints","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"height","type":"uint32","internalType":"uint32"},{"name":"cumulativeChainwork","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lightClientHeight","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"mmrRoot","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"verifyBlockInclusion","inputs":[{"name":"blockLeaf","type":"tuple","internalType":"struct BlockLeaf","components":[{"name":"blockHash","type":"bytes32","internalType":"bytes32"},{"name":"height","type":"uint32","internalType":"uint32"},{"name":"cumulativeChainwork","type":"uint256","internalType":"uint256"}]},{"name":"siblings","type":"bytes32[]","internalType":"bytes32[]"},{"name":"peaks","type":"bytes32[]","internalType":"bytes32[]"}],"outputs":[],"stateMutability":"view"},{"type":"event","name":"BitcoinLightClientUpdated","inputs":[{"name":"priorMmrRoot","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"newMmrRoot","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false},{"type":"error","name":"BlockNotConfirmed","inputs":[]},{"type":"error","name":"BlockNotInChain","inputs":[]},{"type":"error","name":"ChainworkTooLow","inputs":[]},{"type":"error","name":"CheckpointNotEstablished","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"checkpoints(bytes32)":"eb5e91ff","lightClientHeight()":"cc38cd7d","mmrRoot()":"d21ddc61","verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":"a24462ea"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"BlockNotConfirmed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BlockNotInChain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ChainworkTooLow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CheckpointNotEstablished\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"priorMmrRoot\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"newMmrRoot\",\"type\":\"bytes32\"}],\"name\":\"BitcoinLightClientUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"checkpoints\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"height\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeChainwork\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lightClientHeight\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"mmrRoot\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint32\",\"name\":\"height\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeChainwork\",\"type\":\"uint256\"}],\"internalType\":\"struct BlockLeaf\",\"name\":\"blockLeaf\",\"type\":\"tuple\"},{\"internalType\":\"bytes32[]\",\"name\":\"siblings\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"peaks\",\"type\":\"bytes32[]\"}],\"name\":\"verifyBlockInclusion\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf\",\"params\":{\"_mmrRoot\":\"The initial MMR root\",\"_tipBlockLeaf\":\"The tip block leaf of the initial MMR root\"}},\"lightClientHeight()\":{\"returns\":{\"_0\":\"The height of the highest block verified by the light client.\"}},\"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])\":{\"params\":{\"blockLeaf\":\"The block leaf to verify.\",\"peaks\":\"The peak nodes of the block leaf in the MMR.\",\"siblings\":\"The sibling nodes of the block leaf in the MMR.\"}}},\"stateVariables\":{\"checkpoints\":{\"params\":{\"_mmrRoot\":\"The MMR root to query.\"},\"returns\":{\"cumulativeChainwork\":\"The cumulative chainwork of the tip Bitcoin block\",\"height\":\"The height of the tip Bitcoin block\"}},\"mmrRoot\":{\"return\":\"The current MMR root.\",\"returns\":{\"_0\":\"The current MMR root.\"}}},\"title\":\"Bitcoin Light Client\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"checkpoints(bytes32)\":{\"notice\":\"Retrieves checkpoint information for a given MMR root.\"},\"constructor\":{\"notice\":\"Initializes the light client with an MMR root\"},\"lightClientHeight()\":{\"notice\":\"Returns the block height of the current tip of the verified chain.\"},\"mmrRoot()\":{\"notice\":\"The MMR root that includes all the blocks the light client is currently attesting as the best chain.\"},\"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])\":{\"notice\":\"Verifies that a block is included in the verified chain (MMR).\"}},\"notice\":\"A Bitcoin light client implementation that maintains a Merkle Mountain Range (MMR) of Bitcoin blocks for verification purposes Each block is stored as a leaf in the MMR containing: - Block hash - Block height - Cumulative chainwork Updates to the MMR root rely on a proof that the new leaves satisfy the Bitcoin Consensus rules.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/BitcoinLightClient.sol\":\"BitcoinLightClient\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/contracts/\",\":bundler3-0.1.0/=dependencies/bundler3-0.1.0/\",\":bundler3/=dependencies/bundler3-0.1.0/\",\":ds-test/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/\",\":forge-std/=dependencies/forge-std-1.9.6/\",\":halmos-cheatcodes/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":morpho-blue/=dependencies/bundler3-0.1.0/lib/morpho-blue/\",\":openzeppelin-contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/\",\":permit2/=dependencies/bundler3-0.1.0/lib/permit2/\",\":solady-0.1.1/=dependencies/solady-0.1.1/src/\",\":solady/=dependencies/solady-0.1.1/\",\":solmate/=dependencies/bundler3-0.1.0/lib/permit2/lib/solmate/\",\":sp1-contracts-4.0.0/=dependencies/sp1-contracts-4.0.0/\",\":sp1-contracts/=dependencies/sp1-contracts-4.0.0/\"],\"viaIR\":true},\"sources\":{\"dependencies/solady-0.1.1/src/utils/EfficientHashLib.sol\":{\"keccak256\":\"0x1eae95036f571ec3e914f3221427692f33be0524aa88a7b1f3555acc28d5d486\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://de974828a8b74bf4d2cd9b42eb24a6cbf155b5be3817bf7596290b9a4d5a38d6\",\"dweb:/ipfs/QmThys9928dH18dtjZABbuKP5cMh5CJQbemPEKtiU1uKDp\"]},\"src/BitcoinLightClient.sol\":{\"keccak256\":\"0xa4e311c4124c209c3dcc7c748b1475e7f8dca62f6f877a44b27c3434e35d5d9b\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://a003ab7ef9a890cc527a76df63537006c81f858a5b3d6192c713d2311f998453\",\"dweb:/ipfs/QmY7GTWXUhX3GgzEMph2j7zP71Tz45ini5uTqkfqE2121E\"]},\"src/interfaces/IBTCDutchAuctionHouse.sol\":{\"keccak256\":\"0xb3d057fccad20635e01dcdd446ca45fd8c720fe3c0b17945d355a10979dbf78c\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://188454d18afe5f15fba63760dfc3ad638493528616255dc78003af506f1f3dc5\",\"dweb:/ipfs/Qmcij2sjsmgQKJx1heYFgB896mAU4qRbwqNYLRhpo1GTJv\"]},\"src/interfaces/IBitcoinLightClient.sol\":{\"keccak256\":\"0x0a021f305a486e226f0036f2f64c87efde6640d68ac794a90df31d22611b7422\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://6512a6df3e2a853c9eb7ca96775d5a3aaf00af074787237c50dc5862ee1db754\",\"dweb:/ipfs/Qmb4ftJW1eU12yuy5azUanuBFFS7d5ESFppTkhVxt788Ws\"]},\"src/interfaces/IRiftExchange.sol\":{\"keccak256\":\"0x2e1fe3e6f9f82a6943be560f73b4e701cb8fefe0a1f8b20b51ffdeb5498e126b\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://99d796fd4aa946cfceaff495c16aeb3ef21cc1e9e48068fbf6cc7cf222bbb6bd\",\"dweb:/ipfs/QmTPGq1coFs1TsbrFQUxL9d3idLVJsFyQCt3UBqaa4r9X7\"]},\"src/libraries/HashLib.sol\":{\"keccak256\":\"0xd8dae678dd21e67cda5a75dbf575537e2fdfd82d4bc177131591fe0a2f9f57c3\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://894f71586b38e8dc5f88ef7a146ebeec6f69435184f7492a4d19552322f12689\",\"dweb:/ipfs/QmZA85ghN9p6tzD4w7vgYUkVrNmyDTCNf6S4yfopSB6tiL\"]},\"src/libraries/MMRProof.sol\":{\"keccak256\":\"0xa83519a3e07521faf78274930ac3c845a36d4a984917edd7609cb51d2ce1962a\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://b4af279e518cff065f5ce782e0cb56c75eac182745e37ade582817876dd4ac2e\",\"dweb:/ipfs/QmX9SVyHDd52d8NFiyfVh74rVcSDnXLi9WqVLgDarHBvj4\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"BlockNotConfirmed"},{"inputs":[],"type":"error","name":"BlockNotInChain"},{"inputs":[],"type":"error","name":"ChainworkTooLow"},{"inputs":[],"type":"error","name":"CheckpointNotEstablished"},{"inputs":[{"internalType":"bytes32","name":"priorMmrRoot","type":"bytes32","indexed":false},{"internalType":"bytes32","name":"newMmrRoot","type":"bytes32","indexed":false}],"type":"event","name":"BitcoinLightClientUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"checkpoints","outputs":[{"internalType":"uint32","name":"height","type":"uint32"},{"internalType":"uint256","name":"cumulativeChainwork","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lightClientHeight","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"mmrRoot","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"struct BlockLeaf","name":"blockLeaf","type":"tuple","components":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"internalType":"uint32","name":"height","type":"uint32"},{"internalType":"uint256","name":"cumulativeChainwork","type":"uint256"}]},{"internalType":"bytes32[]","name":"siblings","type":"bytes32[]"},{"internalType":"bytes32[]","name":"peaks","type":"bytes32[]"}],"stateMutability":"view","type":"function","name":"verifyBlockInclusion"}],"devdoc":{"kind":"dev","methods":{"constructor":{"details":"The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf","params":{"_mmrRoot":"The initial MMR root","_tipBlockLeaf":"The tip block leaf of the initial MMR root"}},"lightClientHeight()":{"returns":{"_0":"The height of the highest block verified by the light client."}},"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":{"params":{"blockLeaf":"The block leaf to verify.","peaks":"The peak nodes of the block leaf in the MMR.","siblings":"The sibling nodes of the block leaf in the MMR."}}},"version":1},"userdoc":{"kind":"user","methods":{"checkpoints(bytes32)":{"notice":"Retrieves checkpoint information for a given MMR root."},"constructor":{"notice":"Initializes the light client with an MMR root"},"lightClientHeight()":{"notice":"Returns the block height of the current tip of the verified chain."},"mmrRoot()":{"notice":"The MMR root that includes all the blocks the light client is currently attesting as the best chain."},"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":{"notice":"Verifies that a block is included in the verified chain (MMR)."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/contracts/","bundler3-0.1.0/=dependencies/bundler3-0.1.0/","bundler3/=dependencies/bundler3-0.1.0/","ds-test/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-std/lib/ds-test/src/","erc4626-tests/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-gas-snapshot/src/","forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/","forge-std/=dependencies/forge-std-1.9.6/","halmos-cheatcodes/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","morpho-blue/=dependencies/bundler3-0.1.0/lib/morpho-blue/","openzeppelin-contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/","permit2/=dependencies/bundler3-0.1.0/lib/permit2/","solady-0.1.1/=dependencies/solady-0.1.1/src/","solady/=dependencies/solady-0.1.1/","solmate/=dependencies/bundler3-0.1.0/lib/permit2/lib/solmate/","sp1-contracts-4.0.0/=dependencies/sp1-contracts-4.0.0/","sp1-contracts/=dependencies/sp1-contracts-4.0.0/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/BitcoinLightClient.sol":"BitcoinLightClient"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"dependencies/solady-0.1.1/src/utils/EfficientHashLib.sol":{"keccak256":"0x1eae95036f571ec3e914f3221427692f33be0524aa88a7b1f3555acc28d5d486","urls":["bzz-raw://de974828a8b74bf4d2cd9b42eb24a6cbf155b5be3817bf7596290b9a4d5a38d6","dweb:/ipfs/QmThys9928dH18dtjZABbuKP5cMh5CJQbemPEKtiU1uKDp"],"license":"MIT"},"src/BitcoinLightClient.sol":{"keccak256":"0xa4e311c4124c209c3dcc7c748b1475e7f8dca62f6f877a44b27c3434e35d5d9b","urls":["bzz-raw://a003ab7ef9a890cc527a76df63537006c81f858a5b3d6192c713d2311f998453","dweb:/ipfs/QmY7GTWXUhX3GgzEMph2j7zP71Tz45ini5uTqkfqE2121E"],"license":"GPL-2.0-or-later"},"src/interfaces/IBTCDutchAuctionHouse.sol":{"keccak256":"0xb3d057fccad20635e01dcdd446ca45fd8c720fe3c0b17945d355a10979dbf78c","urls":["bzz-raw://188454d18afe5f15fba63760dfc3ad638493528616255dc78003af506f1f3dc5","dweb:/ipfs/Qmcij2sjsmgQKJx1heYFgB896mAU4qRbwqNYLRhpo1GTJv"],"license":"GPL-2.0-or-later"},"src/interfaces/IBitcoinLightClient.sol":{"keccak256":"0x0a021f305a486e226f0036f2f64c87efde6640d68ac794a90df31d22611b7422","urls":["bzz-raw://6512a6df3e2a853c9eb7ca96775d5a3aaf00af074787237c50dc5862ee1db754","dweb:/ipfs/Qmb4ftJW1eU12yuy5azUanuBFFS7d5ESFppTkhVxt788Ws"],"license":"GPL-2.0-or-later"},"src/interfaces/IRiftExchange.sol":{"keccak256":"0x2e1fe3e6f9f82a6943be560f73b4e701cb8fefe0a1f8b20b51ffdeb5498e126b","urls":["bzz-raw://99d796fd4aa946cfceaff495c16aeb3ef21cc1e9e48068fbf6cc7cf222bbb6bd","dweb:/ipfs/QmTPGq1coFs1TsbrFQUxL9d3idLVJsFyQCt3UBqaa4r9X7"],"license":"GPL-2.0-or-later"},"src/libraries/HashLib.sol":{"keccak256":"0xd8dae678dd21e67cda5a75dbf575537e2fdfd82d4bc177131591fe0a2f9f57c3","urls":["bzz-raw://894f71586b38e8dc5f88ef7a146ebeec6f69435184f7492a4d19552322f12689","dweb:/ipfs/QmZA85ghN9p6tzD4w7vgYUkVrNmyDTCNf6S4yfopSB6tiL"],"license":"GPL-2.0-or-later"},"src/libraries/MMRProof.sol":{"keccak256":"0xa83519a3e07521faf78274930ac3c845a36d4a984917edd7609cb51d2ce1962a","urls":["bzz-raw://b4af279e518cff065f5ce782e0cb56c75eac182745e37ade582817876dd4ac2e","dweb:/ipfs/QmX9SVyHDd52d8NFiyfVh74rVcSDnXLi9WqVLgDarHBvj4"],"license":"GPL-2.0-or-later"}},"version":1},"storageLayout":{"storage":[{"astId":44980,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"mmrRoot","offset":0,"slot":"0","type":"t_bytes32"},{"astId":44985,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"checkpoints","offset":0,"slot":"1","type":"t_mapping(t_bytes32,t_struct(Checkpoint)46486_storage)"}],"types":{"t_bytes32":{"encoding":"inplace","label":"bytes32","numberOfBytes":"32"},"t_mapping(t_bytes32,t_struct(Checkpoint)46486_storage)":{"encoding":"mapping","key":"t_bytes32","label":"mapping(bytes32 => struct Checkpoint)","numberOfBytes":"32","value":"t_struct(Checkpoint)46486_storage"},"t_struct(Checkpoint)46486_storage":{"encoding":"inplace","label":"struct Checkpoint","numberOfBytes":"64","members":[{"astId":46483,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"height","offset":0,"slot":"0","type":"t_uint32"},{"astId":46485,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"cumulativeChainwork","offset":0,"slot":"1","type":"t_uint256"}]},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"},"t_uint32":{"encoding":"inplace","label":"uint32","numberOfBytes":"4"}}},"ast":{"absolutePath":"src/BitcoinLightClient.sol","id":45165,"exportedSymbols":{"BitcoinLightClient":[45164],"BlockLeaf":[46481],"Checkpoint":[46486],"HashLib":[47585],"IBitcoinLightClient":[46537],"MMRProofLib":[47790]},"nodeType":"SourceUnit","src":"45:5208:41","nodes":[{"id":44963,"nodeType":"PragmaDirective","src":"45:24:41","nodes":[],"literals":["solidity","=","0.8",".28"]},{"id":44967,"nodeType":"ImportDirective","src":"71:96:41","nodes":[],"absolutePath":"src/interfaces/IBitcoinLightClient.sol","file":"./interfaces/IBitcoinLightClient.sol","nameLocation":"-1:-1:-1","scope":45165,"sourceUnit":46538,"symbolAliases":[{"foreign":{"id":44964,"name":"IBitcoinLightClient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46537,"src":"79:19:41","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":44965,"name":"BlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46481,"src":"100:9:41","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":44966,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46486,"src":"111:10:41","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":44969,"nodeType":"ImportDirective","src":"169:53:41","nodes":[],"absolutePath":"src/libraries/MMRProof.sol","file":"./libraries/MMRProof.sol","nameLocation":"-1:-1:-1","scope":45165,"sourceUnit":47791,"symbolAliases":[{"foreign":{"id":44968,"name":"MMRProofLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47790,"src":"177:11:41","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":44971,"nodeType":"ImportDirective","src":"223:48:41","nodes":[],"absolutePath":"src/libraries/HashLib.sol","file":"./libraries/HashLib.sol","nameLocation":"-1:-1:-1","scope":45165,"sourceUnit":47586,"symbolAliases":[{"foreign":{"id":44970,"name":"HashLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47585,"src":"231:7:41","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":45164,"nodeType":"ContractDefinition","src":"673:4579:41","nodes":[{"id":44978,"nodeType":"UsingForDirective","src":"739:28:41","nodes":[],"global":false,"libraryName":{"id":44975,"name":"HashLib","nameLocations":["745:7:41"],"nodeType":"IdentifierPath","referencedDeclaration":47585,"src":"745:7:41"},"typeName":{"id":44977,"nodeType":"UserDefinedTypeName","pathNode":{"id":44976,"name":"BlockLeaf","nameLocations":["757:9:41"],"nodeType":"IdentifierPath","referencedDeclaration":46481,"src":"757:9:41"},"referencedDeclaration":46481,"src":"757:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_storage_ptr","typeString":"struct BlockLeaf"}}},{"id":44980,"nodeType":"VariableDeclaration","src":"773:22:41","nodes":[],"baseFunctions":[46507],"constant":false,"functionSelector":"d21ddc61","mutability":"mutable","name":"mmrRoot","nameLocation":"788:7:41","scope":45164,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44979,"name":"bytes32","nodeType":"ElementaryTypeName","src":"773:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":44985,"nodeType":"VariableDeclaration","src":"1309:49:41","nodes":[],"baseFunctions":[46517],"constant":false,"functionSelector":"eb5e91ff","mutability":"mutable","name":"checkpoints","nameLocation":"1347:11:41","scope":45164,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint)"},"typeName":{"id":44984,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":44981,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1317:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1309:30:41","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":44983,"nodeType":"UserDefinedTypeName","pathNode":{"id":44982,"name":"Checkpoint","nameLocations":["1328:10:41"],"nodeType":"IdentifierPath","referencedDeclaration":46486,"src":"1328:10:41"},"referencedDeclaration":46486,"src":"1328:10:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage_ptr","typeString":"struct Checkpoint"}}},"visibility":"public"},{"id":45010,"nodeType":"FunctionDefinition","src":"1794:263:41","nodes":[],"body":{"id":45009,"nodeType":"Block","src":"1856:201:41","nodes":[],"statements":[{"expression":{"id":44996,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44994,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44980,"src":"1866:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":44995,"name":"_mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44988,"src":"1876:8:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1866:18:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44997,"nodeType":"ExpressionStatement","src":"1866:18:41"},{"expression":{"id":45007,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":44998,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44985,"src":"1894:11:41","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":45000,"indexExpression":{"id":44999,"name":"_mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44988,"src":"1906:8:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1894:21:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":45002,"name":"_tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44991,"src":"1951:13:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45003,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1965:6:41","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46478,"src":"1951:20:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":45004,"name":"_tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44991,"src":"2006:13:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45005,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2020:19:41","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46480,"src":"2006:33:41","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45001,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46486,"src":"1918:10:41","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Checkpoint_$46486_storage_ptr_$","typeString":"type(struct Checkpoint storage pointer)"}},"id":45006,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["1943:6:41","1985:19:41"],"names":["height","cumulativeChainwork"],"nodeType":"FunctionCall","src":"1918:132:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_memory_ptr","typeString":"struct Checkpoint memory"}},"src":"1894:156:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"id":45008,"nodeType":"ExpressionStatement","src":"1894:156:41"}]},"documentation":{"id":44986,"nodeType":"StructuredDocumentation","src":"1365:424:41","text":" @notice Initializes the light client with an MMR root\n @param _mmrRoot The initial MMR root\n @param _tipBlockLeaf The tip block leaf of the initial MMR root\n @dev The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification\n The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":44992,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44988,"mutability":"mutable","name":"_mmrRoot","nameLocation":"1814:8:41","nodeType":"VariableDeclaration","scope":45010,"src":"1806:16:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44987,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1806:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":44991,"mutability":"mutable","name":"_tipBlockLeaf","nameLocation":"1841:13:41","nodeType":"VariableDeclaration","scope":45010,"src":"1824:30:41","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":44990,"nodeType":"UserDefinedTypeName","pathNode":{"id":44989,"name":"BlockLeaf","nameLocations":["1824:9:41"],"nodeType":"IdentifierPath","referencedDeclaration":46481,"src":"1824:9:41"},"referencedDeclaration":46481,"src":"1824:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"}],"src":"1805:50:41"},"returnParameters":{"id":44993,"nodeType":"ParameterList","parameters":[],"src":"1856:0:41"},"scope":45164,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":45071,"nodeType":"FunctionDefinition","src":"2814:963:41","nodes":[],"body":{"id":45070,"nodeType":"Block","src":"2917:860:41","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":45023,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45021,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45015,"src":"3014:10:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":45022,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44980,"src":"3028:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3014:21:41","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45026,"nodeType":"IfStatement","src":"3010:58:41","trueBody":{"id":45025,"nodeType":"Block","src":"3037:31:41","statements":[{"functionReturnParameters":45020,"id":45024,"nodeType":"Return","src":"3051:7:41"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45032,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":45027,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44985,"src":"3136:11:41","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":45029,"indexExpression":{"id":45028,"name":"priorMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45013,"src":"3148:12:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3136:25:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"id":45030,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3162:19:41","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46485,"src":"3136:45:41","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":45031,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3185:1:41","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3136:50:41","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45037,"nodeType":"IfStatement","src":"3132:114:41","trueBody":{"id":45036,"nodeType":"Block","src":"3188:58:41","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":45033,"name":"CheckpointNotEstablished","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46495,"src":"3209:24:41","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":45034,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3209:26:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":45035,"nodeType":"RevertStatement","src":"3202:33:41"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":45044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":45038,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44985,"src":"3336:11:41","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":45040,"indexExpression":{"id":45039,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44980,"src":"3348:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3336:20:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"id":45041,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3357:19:41","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46485,"src":"3336:40:41","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":45042,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"3380:12:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45043,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3393:19:41","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46480,"src":"3380:32:41","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3336:76:41","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45049,"nodeType":"IfStatement","src":"3332:131:41","trueBody":{"id":45048,"nodeType":"Block","src":"3414:49:41","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":45045,"name":"ChainworkTooLow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46493,"src":"3435:15:41","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":45046,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3435:17:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":45047,"nodeType":"RevertStatement","src":"3428:24:41"}]}},{"expression":{"id":45059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":45050,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44985,"src":"3518:11:41","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":45052,"indexExpression":{"id":45051,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45015,"src":"3530:10:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3518:23:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":45054,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"3577:12:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45055,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3590:6:41","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46478,"src":"3577:19:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":45056,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45018,"src":"3631:12:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45057,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3644:19:41","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46480,"src":"3631:32:41","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":45053,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46486,"src":"3544:10:41","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Checkpoint_$46486_storage_ptr_$","typeString":"type(struct Checkpoint storage pointer)"}},"id":45058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["3569:6:41","3610:19:41"],"names":["height","cumulativeChainwork"],"nodeType":"FunctionCall","src":"3544:130:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_memory_ptr","typeString":"struct Checkpoint memory"}},"src":"3518:156:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"id":45060,"nodeType":"ExpressionStatement","src":"3518:156:41"},{"expression":{"id":45063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45061,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44980,"src":"3684:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":45062,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45015,"src":"3694:10:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3684:20:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":45064,"nodeType":"ExpressionStatement","src":"3684:20:41"},{"eventCall":{"arguments":[{"id":45066,"name":"priorMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45013,"src":"3745:12:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":45067,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45015,"src":"3759:10:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":45065,"name":"BitcoinLightClientUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46501,"src":"3719:25:41","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (bytes32,bytes32)"}},"id":45068,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3719:51:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45069,"nodeType":"EmitStatement","src":"3714:56:41"}]},"documentation":{"id":45011,"nodeType":"StructuredDocumentation","src":"2063:746:41","text":" @notice Extends the light client chain. The caller of this function must ensure:\n - All committed blocks are in a sequential chain and satisfy PoW rules\n - All blocks being committed to in the MMR are provably available (stored in calldata/blobspace)\n @param priorMmrRoot The mmr root the update was built from\n @param newMmrRoot The updated mmr root\n @param tipBlockLeaf The tip of the chain at the `newMmrRoot`\n @dev Updates the root if and only if:\n      1. The prior root is an established checkpoint\n      2. The new root is different from the current root\n      3. The chainwork of the updated chain is greater than or equal to the chainwork of the current checkpoint"},"implemented":true,"kind":"function","modifiers":[],"name":"_updateRoot","nameLocation":"2823:11:41","parameters":{"id":45019,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45013,"mutability":"mutable","name":"priorMmrRoot","nameLocation":"2843:12:41","nodeType":"VariableDeclaration","scope":45071,"src":"2835:20:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":45012,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2835:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":45015,"mutability":"mutable","name":"newMmrRoot","nameLocation":"2865:10:41","nodeType":"VariableDeclaration","scope":45071,"src":"2857:18:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":45014,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2857:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":45018,"mutability":"mutable","name":"tipBlockLeaf","nameLocation":"2894:12:41","nodeType":"VariableDeclaration","scope":45071,"src":"2877:29:41","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":45017,"nodeType":"UserDefinedTypeName","pathNode":{"id":45016,"name":"BlockLeaf","nameLocations":["2877:9:41"],"nodeType":"IdentifierPath","referencedDeclaration":46481,"src":"2877:9:41"},"referencedDeclaration":46481,"src":"2877:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"}],"src":"2834:73:41"},"returnParameters":{"id":45020,"nodeType":"ParameterList","parameters":[],"src":"2917:0:41"},"scope":45164,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":45083,"nodeType":"FunctionDefinition","src":"3823:109:41","nodes":[],"body":{"id":45082,"nodeType":"Block","src":"3881:51:41","nodes":[],"statements":[{"expression":{"expression":{"baseExpression":{"id":45077,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44985,"src":"3898:11:41","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46486_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":45079,"indexExpression":{"id":45078,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44980,"src":"3910:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3898:20:41","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46486_storage","typeString":"struct Checkpoint storage ref"}},"id":45080,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3919:6:41","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46483,"src":"3898:27:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"functionReturnParameters":45076,"id":45081,"nodeType":"Return","src":"3891:34:41"}]},"baseFunctions":[46523],"documentation":{"id":45072,"nodeType":"StructuredDocumentation","src":"3783:35:41","text":"@inheritdoc IBitcoinLightClient"},"functionSelector":"cc38cd7d","implemented":true,"kind":"function","modifiers":[],"name":"lightClientHeight","nameLocation":"3832:17:41","parameters":{"id":45073,"nodeType":"ParameterList","parameters":[],"src":"3849:2:41"},"returnParameters":{"id":45076,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45075,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":45083,"src":"3873:6:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":45074,"name":"uint32","nodeType":"ElementaryTypeName","src":"3873:6:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"3872:8:41"},"scope":45164,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":45126,"nodeType":"FunctionDefinition","src":"3978:408:41","nodes":[],"body":{"id":45125,"nodeType":"Block","src":"4129:257:41","nodes":[],"statements":[{"assignments":[45097],"declarations":[{"constant":false,"id":45097,"mutability":"mutable","name":"leafHash","nameLocation":"4147:8:41","nodeType":"VariableDeclaration","scope":45125,"src":"4139:16:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":45096,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4139:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":45101,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":45098,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45087,"src":"4158:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45099,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4168:4:41","memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":47567,"src":"4158:14:41","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_BlockLeaf_$46481_memory_ptr_$returns$_t_bytes32_$attached_to$_t_struct$_BlockLeaf_$46481_memory_ptr_$","typeString":"function (struct BlockLeaf memory) pure returns (bytes32)"}},"id":45100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4158:16:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"4139:35:41"},{"assignments":[45103],"declarations":[{"constant":false,"id":45103,"mutability":"mutable","name":"leafIndex","nameLocation":"4191:9:41","nodeType":"VariableDeclaration","scope":45125,"src":"4184:16:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":45102,"name":"uint32","nodeType":"ElementaryTypeName","src":"4184:6:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":45106,"initialValue":{"expression":{"id":45104,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45087,"src":"4203:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45105,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4213:6:41","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46478,"src":"4203:16:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"4184:35:41"},{"condition":{"id":45119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4233:96:41","subExpression":{"arguments":[{"id":45109,"name":"leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45097,"src":"4258:8:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":45110,"name":"leafIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45103,"src":"4268:9:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":45111,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45090,"src":"4279:8:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"id":45112,"name":"peaks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45093,"src":"4289:5:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":45116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":45113,"name":"lightClientHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45083,"src":"4296:17:41","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint32_$","typeString":"function () view returns (uint32)"}},"id":45114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4296:19:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":45115,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4318:1:41","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"4296:23:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":45117,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44980,"src":"4321:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":45107,"name":"MMRProofLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47790,"src":"4234:11:41","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_MMRProofLib_$47790_$","typeString":"type(library MMRProofLib)"}},"id":45108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4246:11:41","memberName":"verifyProof","nodeType":"MemberAccess","referencedDeclaration":47731,"src":"4234:23:41","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_uint32_$_t_bytes32_$returns$_t_bool_$","typeString":"function (bytes32,uint256,bytes32[] memory,bytes32[] memory,uint32,bytes32) pure returns (bool)"}},"id":45118,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4234:95:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45124,"nodeType":"IfStatement","src":"4229:151:41","trueBody":{"id":45123,"nodeType":"Block","src":"4331:49:41","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":45120,"name":"BlockNotInChain","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46489,"src":"4352:15:41","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":45121,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4352:17:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":45122,"nodeType":"RevertStatement","src":"4345:24:41"}]}}]},"baseFunctions":[46536],"documentation":{"id":45084,"nodeType":"StructuredDocumentation","src":"3938:35:41","text":"@inheritdoc IBitcoinLightClient"},"functionSelector":"a24462ea","implemented":true,"kind":"function","modifiers":[],"name":"verifyBlockInclusion","nameLocation":"3987:20:41","parameters":{"id":45094,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45087,"mutability":"mutable","name":"blockLeaf","nameLocation":"4034:9:41","nodeType":"VariableDeclaration","scope":45126,"src":"4017:26:41","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":45086,"nodeType":"UserDefinedTypeName","pathNode":{"id":45085,"name":"BlockLeaf","nameLocations":["4017:9:41"],"nodeType":"IdentifierPath","referencedDeclaration":46481,"src":"4017:9:41"},"referencedDeclaration":46481,"src":"4017:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"},{"constant":false,"id":45090,"mutability":"mutable","name":"siblings","nameLocation":"4070:8:41","nodeType":"VariableDeclaration","scope":45126,"src":"4053:25:41","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":45088,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4053:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":45089,"nodeType":"ArrayTypeName","src":"4053:9:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":45093,"mutability":"mutable","name":"peaks","nameLocation":"4105:5:41","nodeType":"VariableDeclaration","scope":45126,"src":"4088:22:41","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":45091,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4088:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":45092,"nodeType":"ArrayTypeName","src":"4088:9:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"src":"4007:109:41"},"returnParameters":{"id":45095,"nodeType":"ParameterList","parameters":[],"src":"4129:0:41"},"scope":45164,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":45163,"nodeType":"FunctionDefinition","src":"4829:421:41","nodes":[],"body":{"id":45162,"nodeType":"Block","src":"5046:204:41","nodes":[],"statements":[{"expression":{"arguments":[{"id":45142,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45130,"src":"5077:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},{"id":45143,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45133,"src":"5088:8:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}},{"id":45144,"name":"peaks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45136,"src":"5098:5:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}],"id":45141,"name":"verifyBlockInclusion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45126,"src":"5056:20:41","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_BlockLeaf_$46481_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$returns$__$","typeString":"function (struct BlockLeaf memory,bytes32[] memory,bytes32[] memory) view"}},"id":45145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5056:48:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":45146,"nodeType":"ExpressionStatement","src":"5056:48:41"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":45156,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":45147,"name":"lightClientHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45083,"src":"5118:17:41","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint32_$","typeString":"function () view returns (uint32)"}},"id":45148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5118:19:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":45155,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":45149,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45130,"src":"5140:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":45150,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5150:6:41","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46478,"src":"5140:16:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":45153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":45151,"name":"expectedConfirmationBlocks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45138,"src":"5160:26:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":45152,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5189:1:41","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5160:30:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"id":45154,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5159:32:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"5140:51:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"5118:73:41","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":45161,"nodeType":"IfStatement","src":"5114:130:41","trueBody":{"id":45160,"nodeType":"Block","src":"5193:51:41","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":45157,"name":"BlockNotConfirmed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46491,"src":"5214:17:41","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":45158,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5214:19:41","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":45159,"nodeType":"RevertStatement","src":"5207:26:41"}]}}]},"documentation":{"id":45127,"nodeType":"StructuredDocumentation","src":"4392:432:41","text":" @notice Verifies that a block is included in the verified chain (MMR) and that it has the required number of confirmations\n @param blockLeaf The block leaf to verify.\n @param siblings The sibling nodes of the block leaf in the MMR.\n @param peaks The peak nodes of the block leaf in the MMR.\n @param expectedConfirmationBlocks The number of blocks that must be built on top of the blockLeaf"},"implemented":true,"kind":"function","modifiers":[],"name":"_verifyBlockInclusionAndConfirmations","nameLocation":"4838:37:41","parameters":{"id":45139,"nodeType":"ParameterList","parameters":[{"constant":false,"id":45130,"mutability":"mutable","name":"blockLeaf","nameLocation":"4902:9:41","nodeType":"VariableDeclaration","scope":45163,"src":"4885:26:41","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":45129,"nodeType":"UserDefinedTypeName","pathNode":{"id":45128,"name":"BlockLeaf","nameLocations":["4885:9:41"],"nodeType":"IdentifierPath","referencedDeclaration":46481,"src":"4885:9:41"},"referencedDeclaration":46481,"src":"4885:9:41","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46481_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"},{"constant":false,"id":45133,"mutability":"mutable","name":"siblings","nameLocation":"4940:8:41","nodeType":"VariableDeclaration","scope":45163,"src":"4921:27:41","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":45131,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4921:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":45132,"nodeType":"ArrayTypeName","src":"4921:9:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":45136,"mutability":"mutable","name":"peaks","nameLocation":"4977:5:41","nodeType":"VariableDeclaration","scope":45163,"src":"4958:24:41","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":45134,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4958:7:41","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":45135,"nodeType":"ArrayTypeName","src":"4958:9:41","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":45138,"mutability":"mutable","name":"expectedConfirmationBlocks","nameLocation":"4999:26:41","nodeType":"VariableDeclaration","scope":45163,"src":"4992:33:41","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":45137,"name":"uint32","nodeType":"ElementaryTypeName","src":"4992:6:41","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"4875:156:41"},"returnParameters":{"id":45140,"nodeType":"ParameterList","parameters":[],"src":"5046:0:41"},"scope":45164,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":44973,"name":"IBitcoinLightClient","nameLocations":["713:19:41"],"nodeType":"IdentifierPath","referencedDeclaration":46537,"src":"713:19:41"},"id":44974,"nodeType":"InheritanceSpecifier","src":"713:19:41"}],"canonicalName":"BitcoinLightClient","contractDependencies":[],"contractKind":"contract","documentation":{"id":44972,"nodeType":"StructuredDocumentation","src":"273:399:41","text":" @title Bitcoin Light Client\n @notice A Bitcoin light client implementation that maintains a Merkle Mountain Range (MMR)\n of Bitcoin blocks for verification purposes\n Each block is stored as a leaf in the MMR containing:\n - Block hash\n - Block height\n - Cumulative chainwork\n Updates to the MMR root rely on a proof that the new leaves satisfy the Bitcoin Consensus rules."},"fullyImplemented":true,"linearizedBaseContracts":[45164,46537],"name":"BitcoinLightClient","nameLocation":"691:18:41","scope":45165,"usedErrors":[46489,46491,46493,46495],"usedEvents":[46501]}],"license":"GPL-2.0-or-later"},"id":41}