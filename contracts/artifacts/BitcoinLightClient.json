{"abi":[{"type":"function","name":"checkpoints","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"height","type":"uint32","internalType":"uint32"},{"name":"cumulativeChainwork","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lightClientHeight","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"mmrRoot","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"verifyBlockInclusion","inputs":[{"name":"blockLeaf","type":"tuple","internalType":"struct BlockLeaf","components":[{"name":"blockHash","type":"bytes32","internalType":"bytes32"},{"name":"height","type":"uint32","internalType":"uint32"},{"name":"cumulativeChainwork","type":"uint256","internalType":"uint256"}]},{"name":"siblings","type":"bytes32[]","internalType":"bytes32[]"},{"name":"peaks","type":"bytes32[]","internalType":"bytes32[]"}],"outputs":[],"stateMutability":"view"},{"type":"event","name":"BitcoinLightClientUpdated","inputs":[{"name":"priorMmrRoot","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"newMmrRoot","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false},{"type":"error","name":"BlockNotConfirmed","inputs":[]},{"type":"error","name":"BlockNotInChain","inputs":[]},{"type":"error","name":"ChainworkTooLow","inputs":[]},{"type":"error","name":"CheckpointNotEstablished","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"checkpoints(bytes32)":"eb5e91ff","lightClientHeight()":"cc38cd7d","mmrRoot()":"d21ddc61","verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":"a24462ea"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"BlockNotConfirmed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BlockNotInChain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ChainworkTooLow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CheckpointNotEstablished\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"priorMmrRoot\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"newMmrRoot\",\"type\":\"bytes32\"}],\"name\":\"BitcoinLightClientUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"checkpoints\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"height\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeChainwork\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lightClientHeight\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"mmrRoot\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint32\",\"name\":\"height\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeChainwork\",\"type\":\"uint256\"}],\"internalType\":\"struct BlockLeaf\",\"name\":\"blockLeaf\",\"type\":\"tuple\"},{\"internalType\":\"bytes32[]\",\"name\":\"siblings\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"peaks\",\"type\":\"bytes32[]\"}],\"name\":\"verifyBlockInclusion\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf\",\"params\":{\"_mmrRoot\":\"The initial MMR root\",\"_tipBlockLeaf\":\"The tip block leaf of the initial MMR root\"}},\"lightClientHeight()\":{\"returns\":{\"_0\":\"The height of the highest block verified by the light client.\"}},\"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])\":{\"params\":{\"blockLeaf\":\"The block leaf to verify.\",\"peaks\":\"The peak nodes of the block leaf in the MMR.\",\"siblings\":\"The sibling nodes of the block leaf in the MMR.\"}}},\"stateVariables\":{\"checkpoints\":{\"params\":{\"_mmrRoot\":\"The MMR root to query.\"},\"returns\":{\"cumulativeChainwork\":\"The cumulative chainwork of the tip Bitcoin block\",\"height\":\"The height of the tip Bitcoin block\"}},\"mmrRoot\":{\"return\":\"The current MMR root.\",\"returns\":{\"_0\":\"The current MMR root.\"}}},\"title\":\"Bitcoin Light Client\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"checkpoints(bytes32)\":{\"notice\":\"Retrieves checkpoint information for a given MMR root.\"},\"constructor\":{\"notice\":\"Initializes the light client with an MMR root\"},\"lightClientHeight()\":{\"notice\":\"Returns the block height of the current tip of the verified chain.\"},\"mmrRoot()\":{\"notice\":\"The MMR root that includes all the blocks the light client is currently attesting as the best chain.\"},\"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])\":{\"notice\":\"Verifies that a block is included in the verified chain (MMR).\"}},\"notice\":\"A Bitcoin light client implementation that maintains a Merkle Mountain Range (MMR) of Bitcoin blocks for verification purposes Each block is stored as a leaf in the MMR containing: - Block hash - Block height - Cumulative chainwork Updates to the MMR root rely on a proof that the new leaves satisfy the Bitcoin Consensus rules.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/BitcoinLightClient.sol\":\"BitcoinLightClient\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/contracts/\",\":bundler3-0.1.0/=dependencies/bundler3-0.1.0/\",\":bundler3/=dependencies/bundler3-0.1.0/\",\":ds-test/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/\",\":forge-std/=dependencies/forge-std-1.9.6/\",\":halmos-cheatcodes/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":morpho-blue/=dependencies/bundler3-0.1.0/lib/morpho-blue/\",\":openzeppelin-contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/\",\":permit2/=dependencies/bundler3-0.1.0/lib/permit2/\",\":solady-0.1.1/=dependencies/solady-0.1.1/src/\",\":solady/=dependencies/solady-0.1.1/\",\":solmate/=dependencies/bundler3-0.1.0/lib/permit2/lib/solmate/\",\":sp1-contracts-4.0.0/=dependencies/sp1-contracts-4.0.0/\",\":sp1-contracts/=dependencies/sp1-contracts-4.0.0/\"],\"viaIR\":true},\"sources\":{\"dependencies/solady-0.1.1/src/utils/EfficientHashLib.sol\":{\"keccak256\":\"0x1eae95036f571ec3e914f3221427692f33be0524aa88a7b1f3555acc28d5d486\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://de974828a8b74bf4d2cd9b42eb24a6cbf155b5be3817bf7596290b9a4d5a38d6\",\"dweb:/ipfs/QmThys9928dH18dtjZABbuKP5cMh5CJQbemPEKtiU1uKDp\"]},\"src/BitcoinLightClient.sol\":{\"keccak256\":\"0xa4e311c4124c209c3dcc7c748b1475e7f8dca62f6f877a44b27c3434e35d5d9b\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://a003ab7ef9a890cc527a76df63537006c81f858a5b3d6192c713d2311f998453\",\"dweb:/ipfs/QmY7GTWXUhX3GgzEMph2j7zP71Tz45ini5uTqkfqE2121E\"]},\"src/interfaces/IBTCDutchAuctionHouse.sol\":{\"keccak256\":\"0xb3d057fccad20635e01dcdd446ca45fd8c720fe3c0b17945d355a10979dbf78c\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://188454d18afe5f15fba63760dfc3ad638493528616255dc78003af506f1f3dc5\",\"dweb:/ipfs/Qmcij2sjsmgQKJx1heYFgB896mAU4qRbwqNYLRhpo1GTJv\"]},\"src/interfaces/IBitcoinLightClient.sol\":{\"keccak256\":\"0x0a021f305a486e226f0036f2f64c87efde6640d68ac794a90df31d22611b7422\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://6512a6df3e2a853c9eb7ca96775d5a3aaf00af074787237c50dc5862ee1db754\",\"dweb:/ipfs/Qmb4ftJW1eU12yuy5azUanuBFFS7d5ESFppTkhVxt788Ws\"]},\"src/interfaces/IRiftExchange.sol\":{\"keccak256\":\"0x661c149fe2a8b60bf833eed47f38f65120964bd442f25111724585b2676fb202\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://d00c44f1594bc3b67cf80deb965c010d284480d7c49755171a3c7ceab0d54d72\",\"dweb:/ipfs/Qmd5gppPPgVLK9UMrKSHWzh5dwc4cKffP8DoQvbJyTMsuD\"]},\"src/libraries/HashLib.sol\":{\"keccak256\":\"0xd8dae678dd21e67cda5a75dbf575537e2fdfd82d4bc177131591fe0a2f9f57c3\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://894f71586b38e8dc5f88ef7a146ebeec6f69435184f7492a4d19552322f12689\",\"dweb:/ipfs/QmZA85ghN9p6tzD4w7vgYUkVrNmyDTCNf6S4yfopSB6tiL\"]},\"src/libraries/MMRProof.sol\":{\"keccak256\":\"0xa83519a3e07521faf78274930ac3c845a36d4a984917edd7609cb51d2ce1962a\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://b4af279e518cff065f5ce782e0cb56c75eac182745e37ade582817876dd4ac2e\",\"dweb:/ipfs/QmX9SVyHDd52d8NFiyfVh74rVcSDnXLi9WqVLgDarHBvj4\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"BlockNotConfirmed"},{"inputs":[],"type":"error","name":"BlockNotInChain"},{"inputs":[],"type":"error","name":"ChainworkTooLow"},{"inputs":[],"type":"error","name":"CheckpointNotEstablished"},{"inputs":[{"internalType":"bytes32","name":"priorMmrRoot","type":"bytes32","indexed":false},{"internalType":"bytes32","name":"newMmrRoot","type":"bytes32","indexed":false}],"type":"event","name":"BitcoinLightClientUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"checkpoints","outputs":[{"internalType":"uint32","name":"height","type":"uint32"},{"internalType":"uint256","name":"cumulativeChainwork","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lightClientHeight","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"mmrRoot","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"struct BlockLeaf","name":"blockLeaf","type":"tuple","components":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"internalType":"uint32","name":"height","type":"uint32"},{"internalType":"uint256","name":"cumulativeChainwork","type":"uint256"}]},{"internalType":"bytes32[]","name":"siblings","type":"bytes32[]"},{"internalType":"bytes32[]","name":"peaks","type":"bytes32[]"}],"stateMutability":"view","type":"function","name":"verifyBlockInclusion"}],"devdoc":{"kind":"dev","methods":{"constructor":{"details":"The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf","params":{"_mmrRoot":"The initial MMR root","_tipBlockLeaf":"The tip block leaf of the initial MMR root"}},"lightClientHeight()":{"returns":{"_0":"The height of the highest block verified by the light client."}},"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":{"params":{"blockLeaf":"The block leaf to verify.","peaks":"The peak nodes of the block leaf in the MMR.","siblings":"The sibling nodes of the block leaf in the MMR."}}},"version":1},"userdoc":{"kind":"user","methods":{"checkpoints(bytes32)":{"notice":"Retrieves checkpoint information for a given MMR root."},"constructor":{"notice":"Initializes the light client with an MMR root"},"lightClientHeight()":{"notice":"Returns the block height of the current tip of the verified chain."},"mmrRoot()":{"notice":"The MMR root that includes all the blocks the light client is currently attesting as the best chain."},"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":{"notice":"Verifies that a block is included in the verified chain (MMR)."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/contracts/","bundler3-0.1.0/=dependencies/bundler3-0.1.0/","bundler3/=dependencies/bundler3-0.1.0/","ds-test/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-std/lib/ds-test/src/","erc4626-tests/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-gas-snapshot/src/","forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/","forge-std/=dependencies/forge-std-1.9.6/","halmos-cheatcodes/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","morpho-blue/=dependencies/bundler3-0.1.0/lib/morpho-blue/","openzeppelin-contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/","permit2/=dependencies/bundler3-0.1.0/lib/permit2/","solady-0.1.1/=dependencies/solady-0.1.1/src/","solady/=dependencies/solady-0.1.1/","solmate/=dependencies/bundler3-0.1.0/lib/permit2/lib/solmate/","sp1-contracts-4.0.0/=dependencies/sp1-contracts-4.0.0/","sp1-contracts/=dependencies/sp1-contracts-4.0.0/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/BitcoinLightClient.sol":"BitcoinLightClient"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"dependencies/solady-0.1.1/src/utils/EfficientHashLib.sol":{"keccak256":"0x1eae95036f571ec3e914f3221427692f33be0524aa88a7b1f3555acc28d5d486","urls":["bzz-raw://de974828a8b74bf4d2cd9b42eb24a6cbf155b5be3817bf7596290b9a4d5a38d6","dweb:/ipfs/QmThys9928dH18dtjZABbuKP5cMh5CJQbemPEKtiU1uKDp"],"license":"MIT"},"src/BitcoinLightClient.sol":{"keccak256":"0xa4e311c4124c209c3dcc7c748b1475e7f8dca62f6f877a44b27c3434e35d5d9b","urls":["bzz-raw://a003ab7ef9a890cc527a76df63537006c81f858a5b3d6192c713d2311f998453","dweb:/ipfs/QmY7GTWXUhX3GgzEMph2j7zP71Tz45ini5uTqkfqE2121E"],"license":"GPL-2.0-or-later"},"src/interfaces/IBTCDutchAuctionHouse.sol":{"keccak256":"0xb3d057fccad20635e01dcdd446ca45fd8c720fe3c0b17945d355a10979dbf78c","urls":["bzz-raw://188454d18afe5f15fba63760dfc3ad638493528616255dc78003af506f1f3dc5","dweb:/ipfs/Qmcij2sjsmgQKJx1heYFgB896mAU4qRbwqNYLRhpo1GTJv"],"license":"GPL-2.0-or-later"},"src/interfaces/IBitcoinLightClient.sol":{"keccak256":"0x0a021f305a486e226f0036f2f64c87efde6640d68ac794a90df31d22611b7422","urls":["bzz-raw://6512a6df3e2a853c9eb7ca96775d5a3aaf00af074787237c50dc5862ee1db754","dweb:/ipfs/Qmb4ftJW1eU12yuy5azUanuBFFS7d5ESFppTkhVxt788Ws"],"license":"GPL-2.0-or-later"},"src/interfaces/IRiftExchange.sol":{"keccak256":"0x661c149fe2a8b60bf833eed47f38f65120964bd442f25111724585b2676fb202","urls":["bzz-raw://d00c44f1594bc3b67cf80deb965c010d284480d7c49755171a3c7ceab0d54d72","dweb:/ipfs/Qmd5gppPPgVLK9UMrKSHWzh5dwc4cKffP8DoQvbJyTMsuD"],"license":"GPL-2.0-or-later"},"src/libraries/HashLib.sol":{"keccak256":"0xd8dae678dd21e67cda5a75dbf575537e2fdfd82d4bc177131591fe0a2f9f57c3","urls":["bzz-raw://894f71586b38e8dc5f88ef7a146ebeec6f69435184f7492a4d19552322f12689","dweb:/ipfs/QmZA85ghN9p6tzD4w7vgYUkVrNmyDTCNf6S4yfopSB6tiL"],"license":"GPL-2.0-or-later"},"src/libraries/MMRProof.sol":{"keccak256":"0xa83519a3e07521faf78274930ac3c845a36d4a984917edd7609cb51d2ce1962a","urls":["bzz-raw://b4af279e518cff065f5ce782e0cb56c75eac182745e37ade582817876dd4ac2e","dweb:/ipfs/QmX9SVyHDd52d8NFiyfVh74rVcSDnXLi9WqVLgDarHBvj4"],"license":"GPL-2.0-or-later"}},"version":1},"storageLayout":{"storage":[{"astId":53833,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"mmrRoot","offset":0,"slot":"0","type":"t_bytes32"},{"astId":53838,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"checkpoints","offset":0,"slot":"1","type":"t_mapping(t_bytes32,t_struct(Checkpoint)55400_storage)"}],"types":{"t_bytes32":{"encoding":"inplace","label":"bytes32","numberOfBytes":"32"},"t_mapping(t_bytes32,t_struct(Checkpoint)55400_storage)":{"encoding":"mapping","key":"t_bytes32","label":"mapping(bytes32 => struct Checkpoint)","numberOfBytes":"32","value":"t_struct(Checkpoint)55400_storage"},"t_struct(Checkpoint)55400_storage":{"encoding":"inplace","label":"struct Checkpoint","numberOfBytes":"64","members":[{"astId":55397,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"height","offset":0,"slot":"0","type":"t_uint32"},{"astId":55399,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"cumulativeChainwork","offset":0,"slot":"1","type":"t_uint256"}]},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"},"t_uint32":{"encoding":"inplace","label":"uint32","numberOfBytes":"4"}}},"ast":{"absolutePath":"src/BitcoinLightClient.sol","id":54018,"exportedSymbols":{"BitcoinLightClient":[54017],"BlockLeaf":[55395],"Checkpoint":[55400],"HashLib":[56580],"IBitcoinLightClient":[55451],"MMRProofLib":[56785]},"nodeType":"SourceUnit","src":"45:5208:70","nodes":[{"id":53816,"nodeType":"PragmaDirective","src":"45:24:70","nodes":[],"literals":["solidity","=","0.8",".28"]},{"id":53820,"nodeType":"ImportDirective","src":"71:96:70","nodes":[],"absolutePath":"src/interfaces/IBitcoinLightClient.sol","file":"./interfaces/IBitcoinLightClient.sol","nameLocation":"-1:-1:-1","scope":54018,"sourceUnit":55452,"symbolAliases":[{"foreign":{"id":53817,"name":"IBitcoinLightClient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55451,"src":"79:19:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":53818,"name":"BlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55395,"src":"100:9:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":53819,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55400,"src":"111:10:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":53822,"nodeType":"ImportDirective","src":"169:53:70","nodes":[],"absolutePath":"src/libraries/MMRProof.sol","file":"./libraries/MMRProof.sol","nameLocation":"-1:-1:-1","scope":54018,"sourceUnit":56786,"symbolAliases":[{"foreign":{"id":53821,"name":"MMRProofLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56785,"src":"177:11:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":53824,"nodeType":"ImportDirective","src":"223:48:70","nodes":[],"absolutePath":"src/libraries/HashLib.sol","file":"./libraries/HashLib.sol","nameLocation":"-1:-1:-1","scope":54018,"sourceUnit":56581,"symbolAliases":[{"foreign":{"id":53823,"name":"HashLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56580,"src":"231:7:70","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":54017,"nodeType":"ContractDefinition","src":"673:4579:70","nodes":[{"id":53831,"nodeType":"UsingForDirective","src":"739:28:70","nodes":[],"global":false,"libraryName":{"id":53828,"name":"HashLib","nameLocations":["745:7:70"],"nodeType":"IdentifierPath","referencedDeclaration":56580,"src":"745:7:70"},"typeName":{"id":53830,"nodeType":"UserDefinedTypeName","pathNode":{"id":53829,"name":"BlockLeaf","nameLocations":["757:9:70"],"nodeType":"IdentifierPath","referencedDeclaration":55395,"src":"757:9:70"},"referencedDeclaration":55395,"src":"757:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_storage_ptr","typeString":"struct BlockLeaf"}}},{"id":53833,"nodeType":"VariableDeclaration","src":"773:22:70","nodes":[],"baseFunctions":[55421],"constant":false,"functionSelector":"d21ddc61","mutability":"mutable","name":"mmrRoot","nameLocation":"788:7:70","scope":54017,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":53832,"name":"bytes32","nodeType":"ElementaryTypeName","src":"773:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":53838,"nodeType":"VariableDeclaration","src":"1309:49:70","nodes":[],"baseFunctions":[55431],"constant":false,"functionSelector":"eb5e91ff","mutability":"mutable","name":"checkpoints","nameLocation":"1347:11:70","scope":54017,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint)"},"typeName":{"id":53837,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":53834,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1317:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1309:30:70","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":53836,"nodeType":"UserDefinedTypeName","pathNode":{"id":53835,"name":"Checkpoint","nameLocations":["1328:10:70"],"nodeType":"IdentifierPath","referencedDeclaration":55400,"src":"1328:10:70"},"referencedDeclaration":55400,"src":"1328:10:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage_ptr","typeString":"struct Checkpoint"}}},"visibility":"public"},{"id":53863,"nodeType":"FunctionDefinition","src":"1794:263:70","nodes":[],"body":{"id":53862,"nodeType":"Block","src":"1856:201:70","nodes":[],"statements":[{"expression":{"id":53849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53847,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53833,"src":"1866:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53848,"name":"_mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53841,"src":"1876:8:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1866:18:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":53850,"nodeType":"ExpressionStatement","src":"1866:18:70"},{"expression":{"id":53860,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":53851,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53838,"src":"1894:11:70","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":53853,"indexExpression":{"id":53852,"name":"_mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53841,"src":"1906:8:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1894:21:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":53855,"name":"_tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53844,"src":"1951:13:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53856,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1965:6:70","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":55392,"src":"1951:20:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":53857,"name":"_tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53844,"src":"2006:13:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53858,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2020:19:70","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":55394,"src":"2006:33:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53854,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55400,"src":"1918:10:70","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Checkpoint_$55400_storage_ptr_$","typeString":"type(struct Checkpoint storage pointer)"}},"id":53859,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["1943:6:70","1985:19:70"],"names":["height","cumulativeChainwork"],"nodeType":"FunctionCall","src":"1918:132:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_memory_ptr","typeString":"struct Checkpoint memory"}},"src":"1894:156:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"id":53861,"nodeType":"ExpressionStatement","src":"1894:156:70"}]},"documentation":{"id":53839,"nodeType":"StructuredDocumentation","src":"1365:424:70","text":" @notice Initializes the light client with an MMR root\n @param _mmrRoot The initial MMR root\n @param _tipBlockLeaf The tip block leaf of the initial MMR root\n @dev The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification\n The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":53845,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53841,"mutability":"mutable","name":"_mmrRoot","nameLocation":"1814:8:70","nodeType":"VariableDeclaration","scope":53863,"src":"1806:16:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":53840,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1806:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":53844,"mutability":"mutable","name":"_tipBlockLeaf","nameLocation":"1841:13:70","nodeType":"VariableDeclaration","scope":53863,"src":"1824:30:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":53843,"nodeType":"UserDefinedTypeName","pathNode":{"id":53842,"name":"BlockLeaf","nameLocations":["1824:9:70"],"nodeType":"IdentifierPath","referencedDeclaration":55395,"src":"1824:9:70"},"referencedDeclaration":55395,"src":"1824:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"}],"src":"1805:50:70"},"returnParameters":{"id":53846,"nodeType":"ParameterList","parameters":[],"src":"1856:0:70"},"scope":54017,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":53924,"nodeType":"FunctionDefinition","src":"2814:963:70","nodes":[],"body":{"id":53923,"nodeType":"Block","src":"2917:860:70","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":53876,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53874,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53868,"src":"3014:10:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":53875,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53833,"src":"3028:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3014:21:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53879,"nodeType":"IfStatement","src":"3010:58:70","trueBody":{"id":53878,"nodeType":"Block","src":"3037:31:70","statements":[{"functionReturnParameters":53873,"id":53877,"nodeType":"Return","src":"3051:7:70"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":53880,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53838,"src":"3136:11:70","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":53882,"indexExpression":{"id":53881,"name":"priorMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53866,"src":"3148:12:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3136:25:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"id":53883,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3162:19:70","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":55399,"src":"3136:45:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":53884,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3185:1:70","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3136:50:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53890,"nodeType":"IfStatement","src":"3132:114:70","trueBody":{"id":53889,"nodeType":"Block","src":"3188:58:70","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53886,"name":"CheckpointNotEstablished","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55409,"src":"3209:24:70","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53887,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3209:26:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53888,"nodeType":"RevertStatement","src":"3202:33:70"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53897,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":53891,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53838,"src":"3336:11:70","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":53893,"indexExpression":{"id":53892,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53833,"src":"3348:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3336:20:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"id":53894,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3357:19:70","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":55399,"src":"3336:40:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":53895,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53871,"src":"3380:12:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53896,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3393:19:70","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":55394,"src":"3380:32:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3336:76:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53902,"nodeType":"IfStatement","src":"3332:131:70","trueBody":{"id":53901,"nodeType":"Block","src":"3414:49:70","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53898,"name":"ChainworkTooLow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55407,"src":"3435:15:70","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53899,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3435:17:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53900,"nodeType":"RevertStatement","src":"3428:24:70"}]}},{"expression":{"id":53912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":53903,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53838,"src":"3518:11:70","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":53905,"indexExpression":{"id":53904,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53868,"src":"3530:10:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3518:23:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":53907,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53871,"src":"3577:12:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53908,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3590:6:70","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":55392,"src":"3577:19:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":53909,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53871,"src":"3631:12:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53910,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3644:19:70","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":55394,"src":"3631:32:70","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":53906,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55400,"src":"3544:10:70","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Checkpoint_$55400_storage_ptr_$","typeString":"type(struct Checkpoint storage pointer)"}},"id":53911,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["3569:6:70","3610:19:70"],"names":["height","cumulativeChainwork"],"nodeType":"FunctionCall","src":"3544:130:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_memory_ptr","typeString":"struct Checkpoint memory"}},"src":"3518:156:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"id":53913,"nodeType":"ExpressionStatement","src":"3518:156:70"},{"expression":{"id":53916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":53914,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53833,"src":"3684:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":53915,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53868,"src":"3694:10:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3684:20:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":53917,"nodeType":"ExpressionStatement","src":"3684:20:70"},{"eventCall":{"arguments":[{"id":53919,"name":"priorMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53866,"src":"3745:12:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":53920,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53868,"src":"3759:10:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":53918,"name":"BitcoinLightClientUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55415,"src":"3719:25:70","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (bytes32,bytes32)"}},"id":53921,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3719:51:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53922,"nodeType":"EmitStatement","src":"3714:56:70"}]},"documentation":{"id":53864,"nodeType":"StructuredDocumentation","src":"2063:746:70","text":" @notice Extends the light client chain. The caller of this function must ensure:\n - All committed blocks are in a sequential chain and satisfy PoW rules\n - All blocks being committed to in the MMR are provably available (stored in calldata/blobspace)\n @param priorMmrRoot The mmr root the update was built from\n @param newMmrRoot The updated mmr root\n @param tipBlockLeaf The tip of the chain at the `newMmrRoot`\n @dev Updates the root if and only if:\n      1. The prior root is an established checkpoint\n      2. The new root is different from the current root\n      3. The chainwork of the updated chain is greater than or equal to the chainwork of the current checkpoint"},"implemented":true,"kind":"function","modifiers":[],"name":"_updateRoot","nameLocation":"2823:11:70","parameters":{"id":53872,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53866,"mutability":"mutable","name":"priorMmrRoot","nameLocation":"2843:12:70","nodeType":"VariableDeclaration","scope":53924,"src":"2835:20:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":53865,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2835:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":53868,"mutability":"mutable","name":"newMmrRoot","nameLocation":"2865:10:70","nodeType":"VariableDeclaration","scope":53924,"src":"2857:18:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":53867,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2857:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":53871,"mutability":"mutable","name":"tipBlockLeaf","nameLocation":"2894:12:70","nodeType":"VariableDeclaration","scope":53924,"src":"2877:29:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":53870,"nodeType":"UserDefinedTypeName","pathNode":{"id":53869,"name":"BlockLeaf","nameLocations":["2877:9:70"],"nodeType":"IdentifierPath","referencedDeclaration":55395,"src":"2877:9:70"},"referencedDeclaration":55395,"src":"2877:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"}],"src":"2834:73:70"},"returnParameters":{"id":53873,"nodeType":"ParameterList","parameters":[],"src":"2917:0:70"},"scope":54017,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":53936,"nodeType":"FunctionDefinition","src":"3823:109:70","nodes":[],"body":{"id":53935,"nodeType":"Block","src":"3881:51:70","nodes":[],"statements":[{"expression":{"expression":{"baseExpression":{"id":53930,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53838,"src":"3898:11:70","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$55400_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":53932,"indexExpression":{"id":53931,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53833,"src":"3910:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3898:20:70","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$55400_storage","typeString":"struct Checkpoint storage ref"}},"id":53933,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3919:6:70","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":55397,"src":"3898:27:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"functionReturnParameters":53929,"id":53934,"nodeType":"Return","src":"3891:34:70"}]},"baseFunctions":[55437],"documentation":{"id":53925,"nodeType":"StructuredDocumentation","src":"3783:35:70","text":"@inheritdoc IBitcoinLightClient"},"functionSelector":"cc38cd7d","implemented":true,"kind":"function","modifiers":[],"name":"lightClientHeight","nameLocation":"3832:17:70","parameters":{"id":53926,"nodeType":"ParameterList","parameters":[],"src":"3849:2:70"},"returnParameters":{"id":53929,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53928,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":53936,"src":"3873:6:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":53927,"name":"uint32","nodeType":"ElementaryTypeName","src":"3873:6:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"3872:8:70"},"scope":54017,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":53979,"nodeType":"FunctionDefinition","src":"3978:408:70","nodes":[],"body":{"id":53978,"nodeType":"Block","src":"4129:257:70","nodes":[],"statements":[{"assignments":[53950],"declarations":[{"constant":false,"id":53950,"mutability":"mutable","name":"leafHash","nameLocation":"4147:8:70","nodeType":"VariableDeclaration","scope":53978,"src":"4139:16:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":53949,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4139:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":53954,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":53951,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53940,"src":"4158:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53952,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4168:4:70","memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":56562,"src":"4158:14:70","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_BlockLeaf_$55395_memory_ptr_$returns$_t_bytes32_$attached_to$_t_struct$_BlockLeaf_$55395_memory_ptr_$","typeString":"function (struct BlockLeaf memory) pure returns (bytes32)"}},"id":53953,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4158:16:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"4139:35:70"},{"assignments":[53956],"declarations":[{"constant":false,"id":53956,"mutability":"mutable","name":"leafIndex","nameLocation":"4191:9:70","nodeType":"VariableDeclaration","scope":53978,"src":"4184:16:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":53955,"name":"uint32","nodeType":"ElementaryTypeName","src":"4184:6:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":53959,"initialValue":{"expression":{"id":53957,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53940,"src":"4203:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":53958,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4213:6:70","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":55392,"src":"4203:16:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"4184:35:70"},{"condition":{"id":53972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4233:96:70","subExpression":{"arguments":[{"id":53962,"name":"leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53950,"src":"4258:8:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":53963,"name":"leafIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53956,"src":"4268:9:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":53964,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53943,"src":"4279:8:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"id":53965,"name":"peaks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53946,"src":"4289:5:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":53969,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":53966,"name":"lightClientHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53936,"src":"4296:17:70","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint32_$","typeString":"function () view returns (uint32)"}},"id":53967,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4296:19:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":53968,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4318:1:70","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"4296:23:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":53970,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53833,"src":"4321:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":53960,"name":"MMRProofLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56785,"src":"4234:11:70","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_MMRProofLib_$56785_$","typeString":"type(library MMRProofLib)"}},"id":53961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4246:11:70","memberName":"verifyProof","nodeType":"MemberAccess","referencedDeclaration":56726,"src":"4234:23:70","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_uint32_$_t_bytes32_$returns$_t_bool_$","typeString":"function (bytes32,uint256,bytes32[] memory,bytes32[] memory,uint32,bytes32) pure returns (bool)"}},"id":53971,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4234:95:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53977,"nodeType":"IfStatement","src":"4229:151:70","trueBody":{"id":53976,"nodeType":"Block","src":"4331:49:70","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":53973,"name":"BlockNotInChain","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55403,"src":"4352:15:70","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":53974,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4352:17:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":53975,"nodeType":"RevertStatement","src":"4345:24:70"}]}}]},"baseFunctions":[55450],"documentation":{"id":53937,"nodeType":"StructuredDocumentation","src":"3938:35:70","text":"@inheritdoc IBitcoinLightClient"},"functionSelector":"a24462ea","implemented":true,"kind":"function","modifiers":[],"name":"verifyBlockInclusion","nameLocation":"3987:20:70","parameters":{"id":53947,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53940,"mutability":"mutable","name":"blockLeaf","nameLocation":"4034:9:70","nodeType":"VariableDeclaration","scope":53979,"src":"4017:26:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":53939,"nodeType":"UserDefinedTypeName","pathNode":{"id":53938,"name":"BlockLeaf","nameLocations":["4017:9:70"],"nodeType":"IdentifierPath","referencedDeclaration":55395,"src":"4017:9:70"},"referencedDeclaration":55395,"src":"4017:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"},{"constant":false,"id":53943,"mutability":"mutable","name":"siblings","nameLocation":"4070:8:70","nodeType":"VariableDeclaration","scope":53979,"src":"4053:25:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":53941,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4053:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":53942,"nodeType":"ArrayTypeName","src":"4053:9:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":53946,"mutability":"mutable","name":"peaks","nameLocation":"4105:5:70","nodeType":"VariableDeclaration","scope":53979,"src":"4088:22:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":53944,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4088:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":53945,"nodeType":"ArrayTypeName","src":"4088:9:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"src":"4007:109:70"},"returnParameters":{"id":53948,"nodeType":"ParameterList","parameters":[],"src":"4129:0:70"},"scope":54017,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":54016,"nodeType":"FunctionDefinition","src":"4829:421:70","nodes":[],"body":{"id":54015,"nodeType":"Block","src":"5046:204:70","nodes":[],"statements":[{"expression":{"arguments":[{"id":53995,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53983,"src":"5077:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},{"id":53996,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53986,"src":"5088:8:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}},{"id":53997,"name":"peaks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53989,"src":"5098:5:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}],"id":53994,"name":"verifyBlockInclusion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53979,"src":"5056:20:70","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_BlockLeaf_$55395_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$returns$__$","typeString":"function (struct BlockLeaf memory,bytes32[] memory,bytes32[] memory) view"}},"id":53998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5056:48:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53999,"nodeType":"ExpressionStatement","src":"5056:48:70"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":54009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":54000,"name":"lightClientHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53936,"src":"5118:17:70","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint32_$","typeString":"function () view returns (uint32)"}},"id":54001,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5118:19:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":54008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":54002,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53983,"src":"5140:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":54003,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5150:6:70","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":55392,"src":"5140:16:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":54006,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":54004,"name":"expectedConfirmationBlocks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53991,"src":"5160:26:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":54005,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5189:1:70","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5160:30:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"id":54007,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5159:32:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"5140:51:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"5118:73:70","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":54014,"nodeType":"IfStatement","src":"5114:130:70","trueBody":{"id":54013,"nodeType":"Block","src":"5193:51:70","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":54010,"name":"BlockNotConfirmed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":55405,"src":"5214:17:70","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":54011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5214:19:70","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":54012,"nodeType":"RevertStatement","src":"5207:26:70"}]}}]},"documentation":{"id":53980,"nodeType":"StructuredDocumentation","src":"4392:432:70","text":" @notice Verifies that a block is included in the verified chain (MMR) and that it has the required number of confirmations\n @param blockLeaf The block leaf to verify.\n @param siblings The sibling nodes of the block leaf in the MMR.\n @param peaks The peak nodes of the block leaf in the MMR.\n @param expectedConfirmationBlocks The number of blocks that must be built on top of the blockLeaf"},"implemented":true,"kind":"function","modifiers":[],"name":"_verifyBlockInclusionAndConfirmations","nameLocation":"4838:37:70","parameters":{"id":53992,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53983,"mutability":"mutable","name":"blockLeaf","nameLocation":"4902:9:70","nodeType":"VariableDeclaration","scope":54016,"src":"4885:26:70","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":53982,"nodeType":"UserDefinedTypeName","pathNode":{"id":53981,"name":"BlockLeaf","nameLocations":["4885:9:70"],"nodeType":"IdentifierPath","referencedDeclaration":55395,"src":"4885:9:70"},"referencedDeclaration":55395,"src":"4885:9:70","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$55395_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"},{"constant":false,"id":53986,"mutability":"mutable","name":"siblings","nameLocation":"4940:8:70","nodeType":"VariableDeclaration","scope":54016,"src":"4921:27:70","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":53984,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4921:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":53985,"nodeType":"ArrayTypeName","src":"4921:9:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":53989,"mutability":"mutable","name":"peaks","nameLocation":"4977:5:70","nodeType":"VariableDeclaration","scope":54016,"src":"4958:24:70","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":53987,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4958:7:70","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":53988,"nodeType":"ArrayTypeName","src":"4958:9:70","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":53991,"mutability":"mutable","name":"expectedConfirmationBlocks","nameLocation":"4999:26:70","nodeType":"VariableDeclaration","scope":54016,"src":"4992:33:70","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":53990,"name":"uint32","nodeType":"ElementaryTypeName","src":"4992:6:70","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"4875:156:70"},"returnParameters":{"id":53993,"nodeType":"ParameterList","parameters":[],"src":"5046:0:70"},"scope":54017,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":53826,"name":"IBitcoinLightClient","nameLocations":["713:19:70"],"nodeType":"IdentifierPath","referencedDeclaration":55451,"src":"713:19:70"},"id":53827,"nodeType":"InheritanceSpecifier","src":"713:19:70"}],"canonicalName":"BitcoinLightClient","contractDependencies":[],"contractKind":"contract","documentation":{"id":53825,"nodeType":"StructuredDocumentation","src":"273:399:70","text":" @title Bitcoin Light Client\n @notice A Bitcoin light client implementation that maintains a Merkle Mountain Range (MMR)\n of Bitcoin blocks for verification purposes\n Each block is stored as a leaf in the MMR containing:\n - Block hash\n - Block height\n - Cumulative chainwork\n Updates to the MMR root rely on a proof that the new leaves satisfy the Bitcoin Consensus rules."},"fullyImplemented":true,"linearizedBaseContracts":[54017,55451],"name":"BitcoinLightClient","nameLocation":"691:18:70","scope":54018,"usedErrors":[55403,55405,55407,55409],"usedEvents":[55415]}],"license":"GPL-2.0-or-later"},"id":70}