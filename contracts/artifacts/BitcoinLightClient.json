{"abi":[{"type":"function","name":"checkpoints","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"height","type":"uint32","internalType":"uint32"},{"name":"cumulativeChainwork","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lightClientHeight","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"mmrRoot","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"verifyBlockInclusion","inputs":[{"name":"blockLeaf","type":"tuple","internalType":"struct BlockLeaf","components":[{"name":"blockHash","type":"bytes32","internalType":"bytes32"},{"name":"height","type":"uint32","internalType":"uint32"},{"name":"cumulativeChainwork","type":"uint256","internalType":"uint256"}]},{"name":"siblings","type":"bytes32[]","internalType":"bytes32[]"},{"name":"peaks","type":"bytes32[]","internalType":"bytes32[]"}],"outputs":[],"stateMutability":"view"},{"type":"event","name":"BitcoinLightClientUpdated","inputs":[{"name":"priorMmrRoot","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"newMmrRoot","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false},{"type":"error","name":"BlockNotConfirmed","inputs":[]},{"type":"error","name":"BlockNotInChain","inputs":[]},{"type":"error","name":"ChainworkTooLow","inputs":[]},{"type":"error","name":"CheckpointNotEstablished","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"checkpoints(bytes32)":"eb5e91ff","lightClientHeight()":"cc38cd7d","mmrRoot()":"d21ddc61","verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":"a24462ea"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"BlockNotConfirmed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BlockNotInChain\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ChainworkTooLow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CheckpointNotEstablished\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"priorMmrRoot\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"newMmrRoot\",\"type\":\"bytes32\"}],\"name\":\"BitcoinLightClientUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"checkpoints\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"height\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeChainwork\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lightClientHeight\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"mmrRoot\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"blockHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint32\",\"name\":\"height\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"cumulativeChainwork\",\"type\":\"uint256\"}],\"internalType\":\"struct BlockLeaf\",\"name\":\"blockLeaf\",\"type\":\"tuple\"},{\"internalType\":\"bytes32[]\",\"name\":\"siblings\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"peaks\",\"type\":\"bytes32[]\"}],\"name\":\"verifyBlockInclusion\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf\",\"params\":{\"_mmrRoot\":\"The initial MMR root\",\"_tipBlockLeaf\":\"The tip block leaf of the initial MMR root\"}},\"lightClientHeight()\":{\"returns\":{\"_0\":\"The height of the highest block verified by the light client.\"}},\"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])\":{\"params\":{\"blockLeaf\":\"The block leaf to verify.\",\"peaks\":\"The peak nodes of the block leaf in the MMR.\",\"siblings\":\"The sibling nodes of the block leaf in the MMR.\"}}},\"stateVariables\":{\"checkpoints\":{\"params\":{\"_mmrRoot\":\"The MMR root to query.\"},\"returns\":{\"cumulativeChainwork\":\"The cumulative chainwork of the tip Bitcoin block\",\"height\":\"The height of the tip Bitcoin block\"}},\"mmrRoot\":{\"return\":\"The current MMR root.\",\"returns\":{\"_0\":\"The current MMR root.\"}}},\"title\":\"Bitcoin Light Client\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"checkpoints(bytes32)\":{\"notice\":\"Retrieves checkpoint information for a given MMR root.\"},\"constructor\":{\"notice\":\"Initializes the light client with an MMR root\"},\"lightClientHeight()\":{\"notice\":\"Returns the block height of the current tip of the verified chain.\"},\"mmrRoot()\":{\"notice\":\"The MMR root that includes all the blocks the light client is currently attesting as the best chain.\"},\"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])\":{\"notice\":\"Verifies that a block is included in the verified chain (MMR).\"}},\"notice\":\"A Bitcoin light client implementation that maintains a Merkle Mountain Range (MMR) of Bitcoin blocks for verification purposes Each block is stored as a leaf in the MMR containing: - Block hash - Block height - Cumulative chainwork Updates to the MMR root rely on a proof that the new leaves satisfy the Bitcoin Consensus rules.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/BitcoinLightClient.sol\":\"BitcoinLightClient\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/contracts/\",\":bundler3-0.1.0/=dependencies/bundler3-0.1.0/\",\":bundler3/=dependencies/bundler3-0.1.0/\",\":ds-test/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/\",\":forge-std/=dependencies/forge-std-1.9.6/\",\":halmos-cheatcodes/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":morpho-blue/=dependencies/bundler3-0.1.0/lib/morpho-blue/\",\":openzeppelin-contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/\",\":permit2/=dependencies/bundler3-0.1.0/lib/permit2/\",\":solady-0.1.1/=dependencies/solady-0.1.1/src/\",\":solady/=dependencies/solady-0.1.1/\",\":solmate/=dependencies/bundler3-0.1.0/lib/permit2/lib/solmate/\",\":sp1-contracts-4.0.0/=dependencies/sp1-contracts-4.0.0/\",\":sp1-contracts/=dependencies/sp1-contracts-4.0.0/\"],\"viaIR\":true},\"sources\":{\"dependencies/solady-0.1.1/src/utils/EfficientHashLib.sol\":{\"keccak256\":\"0x1eae95036f571ec3e914f3221427692f33be0524aa88a7b1f3555acc28d5d486\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://de974828a8b74bf4d2cd9b42eb24a6cbf155b5be3817bf7596290b9a4d5a38d6\",\"dweb:/ipfs/QmThys9928dH18dtjZABbuKP5cMh5CJQbemPEKtiU1uKDp\"]},\"src/BitcoinLightClient.sol\":{\"keccak256\":\"0xa4e311c4124c209c3dcc7c748b1475e7f8dca62f6f877a44b27c3434e35d5d9b\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://a003ab7ef9a890cc527a76df63537006c81f858a5b3d6192c713d2311f998453\",\"dweb:/ipfs/QmY7GTWXUhX3GgzEMph2j7zP71Tz45ini5uTqkfqE2121E\"]},\"src/interfaces/IBTCDutchAuctionHouse.sol\":{\"keccak256\":\"0xb3d057fccad20635e01dcdd446ca45fd8c720fe3c0b17945d355a10979dbf78c\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://188454d18afe5f15fba63760dfc3ad638493528616255dc78003af506f1f3dc5\",\"dweb:/ipfs/Qmcij2sjsmgQKJx1heYFgB896mAU4qRbwqNYLRhpo1GTJv\"]},\"src/interfaces/IBitcoinLightClient.sol\":{\"keccak256\":\"0x0a021f305a486e226f0036f2f64c87efde6640d68ac794a90df31d22611b7422\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://6512a6df3e2a853c9eb7ca96775d5a3aaf00af074787237c50dc5862ee1db754\",\"dweb:/ipfs/Qmb4ftJW1eU12yuy5azUanuBFFS7d5ESFppTkhVxt788Ws\"]},\"src/interfaces/IRiftExchange.sol\":{\"keccak256\":\"0x2e1fe3e6f9f82a6943be560f73b4e701cb8fefe0a1f8b20b51ffdeb5498e126b\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://99d796fd4aa946cfceaff495c16aeb3ef21cc1e9e48068fbf6cc7cf222bbb6bd\",\"dweb:/ipfs/QmTPGq1coFs1TsbrFQUxL9d3idLVJsFyQCt3UBqaa4r9X7\"]},\"src/libraries/HashLib.sol\":{\"keccak256\":\"0xd8dae678dd21e67cda5a75dbf575537e2fdfd82d4bc177131591fe0a2f9f57c3\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://894f71586b38e8dc5f88ef7a146ebeec6f69435184f7492a4d19552322f12689\",\"dweb:/ipfs/QmZA85ghN9p6tzD4w7vgYUkVrNmyDTCNf6S4yfopSB6tiL\"]},\"src/libraries/MMRProof.sol\":{\"keccak256\":\"0xa83519a3e07521faf78274930ac3c845a36d4a984917edd7609cb51d2ce1962a\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://b4af279e518cff065f5ce782e0cb56c75eac182745e37ade582817876dd4ac2e\",\"dweb:/ipfs/QmX9SVyHDd52d8NFiyfVh74rVcSDnXLi9WqVLgDarHBvj4\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"BlockNotConfirmed"},{"inputs":[],"type":"error","name":"BlockNotInChain"},{"inputs":[],"type":"error","name":"ChainworkTooLow"},{"inputs":[],"type":"error","name":"CheckpointNotEstablished"},{"inputs":[{"internalType":"bytes32","name":"priorMmrRoot","type":"bytes32","indexed":false},{"internalType":"bytes32","name":"newMmrRoot","type":"bytes32","indexed":false}],"type":"event","name":"BitcoinLightClientUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"checkpoints","outputs":[{"internalType":"uint32","name":"height","type":"uint32"},{"internalType":"uint256","name":"cumulativeChainwork","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lightClientHeight","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"mmrRoot","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"struct BlockLeaf","name":"blockLeaf","type":"tuple","components":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"internalType":"uint32","name":"height","type":"uint32"},{"internalType":"uint256","name":"cumulativeChainwork","type":"uint256"}]},{"internalType":"bytes32[]","name":"siblings","type":"bytes32[]"},{"internalType":"bytes32[]","name":"peaks","type":"bytes32[]"}],"stateMutability":"view","type":"function","name":"verifyBlockInclusion"}],"devdoc":{"kind":"dev","methods":{"constructor":{"details":"The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf","params":{"_mmrRoot":"The initial MMR root","_tipBlockLeaf":"The tip block leaf of the initial MMR root"}},"lightClientHeight()":{"returns":{"_0":"The height of the highest block verified by the light client."}},"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":{"params":{"blockLeaf":"The block leaf to verify.","peaks":"The peak nodes of the block leaf in the MMR.","siblings":"The sibling nodes of the block leaf in the MMR."}}},"version":1},"userdoc":{"kind":"user","methods":{"checkpoints(bytes32)":{"notice":"Retrieves checkpoint information for a given MMR root."},"constructor":{"notice":"Initializes the light client with an MMR root"},"lightClientHeight()":{"notice":"Returns the block height of the current tip of the verified chain."},"mmrRoot()":{"notice":"The MMR root that includes all the blocks the light client is currently attesting as the best chain."},"verifyBlockInclusion((bytes32,uint32,uint256),bytes32[],bytes32[])":{"notice":"Verifies that a block is included in the verified chain (MMR)."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/contracts/","bundler3-0.1.0/=dependencies/bundler3-0.1.0/","bundler3/=dependencies/bundler3-0.1.0/","ds-test/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-std/lib/ds-test/src/","erc4626-tests/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=dependencies/bundler3-0.1.0/lib/permit2/lib/forge-gas-snapshot/src/","forge-std-1.9.6/=dependencies/forge-std-1.9.6/src/","forge-std/=dependencies/forge-std-1.9.6/","halmos-cheatcodes/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","morpho-blue/=dependencies/bundler3-0.1.0/lib/morpho-blue/","openzeppelin-contracts/=dependencies/bundler3-0.1.0/lib/openzeppelin-contracts/","permit2/=dependencies/bundler3-0.1.0/lib/permit2/","solady-0.1.1/=dependencies/solady-0.1.1/src/","solady/=dependencies/solady-0.1.1/","solmate/=dependencies/bundler3-0.1.0/lib/permit2/lib/solmate/","sp1-contracts-4.0.0/=dependencies/sp1-contracts-4.0.0/","sp1-contracts/=dependencies/sp1-contracts-4.0.0/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/BitcoinLightClient.sol":"BitcoinLightClient"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"dependencies/solady-0.1.1/src/utils/EfficientHashLib.sol":{"keccak256":"0x1eae95036f571ec3e914f3221427692f33be0524aa88a7b1f3555acc28d5d486","urls":["bzz-raw://de974828a8b74bf4d2cd9b42eb24a6cbf155b5be3817bf7596290b9a4d5a38d6","dweb:/ipfs/QmThys9928dH18dtjZABbuKP5cMh5CJQbemPEKtiU1uKDp"],"license":"MIT"},"src/BitcoinLightClient.sol":{"keccak256":"0xa4e311c4124c209c3dcc7c748b1475e7f8dca62f6f877a44b27c3434e35d5d9b","urls":["bzz-raw://a003ab7ef9a890cc527a76df63537006c81f858a5b3d6192c713d2311f998453","dweb:/ipfs/QmY7GTWXUhX3GgzEMph2j7zP71Tz45ini5uTqkfqE2121E"],"license":"GPL-2.0-or-later"},"src/interfaces/IBTCDutchAuctionHouse.sol":{"keccak256":"0xb3d057fccad20635e01dcdd446ca45fd8c720fe3c0b17945d355a10979dbf78c","urls":["bzz-raw://188454d18afe5f15fba63760dfc3ad638493528616255dc78003af506f1f3dc5","dweb:/ipfs/Qmcij2sjsmgQKJx1heYFgB896mAU4qRbwqNYLRhpo1GTJv"],"license":"GPL-2.0-or-later"},"src/interfaces/IBitcoinLightClient.sol":{"keccak256":"0x0a021f305a486e226f0036f2f64c87efde6640d68ac794a90df31d22611b7422","urls":["bzz-raw://6512a6df3e2a853c9eb7ca96775d5a3aaf00af074787237c50dc5862ee1db754","dweb:/ipfs/Qmb4ftJW1eU12yuy5azUanuBFFS7d5ESFppTkhVxt788Ws"],"license":"GPL-2.0-or-later"},"src/interfaces/IRiftExchange.sol":{"keccak256":"0x2e1fe3e6f9f82a6943be560f73b4e701cb8fefe0a1f8b20b51ffdeb5498e126b","urls":["bzz-raw://99d796fd4aa946cfceaff495c16aeb3ef21cc1e9e48068fbf6cc7cf222bbb6bd","dweb:/ipfs/QmTPGq1coFs1TsbrFQUxL9d3idLVJsFyQCt3UBqaa4r9X7"],"license":"GPL-2.0-or-later"},"src/libraries/HashLib.sol":{"keccak256":"0xd8dae678dd21e67cda5a75dbf575537e2fdfd82d4bc177131591fe0a2f9f57c3","urls":["bzz-raw://894f71586b38e8dc5f88ef7a146ebeec6f69435184f7492a4d19552322f12689","dweb:/ipfs/QmZA85ghN9p6tzD4w7vgYUkVrNmyDTCNf6S4yfopSB6tiL"],"license":"GPL-2.0-or-later"},"src/libraries/MMRProof.sol":{"keccak256":"0xa83519a3e07521faf78274930ac3c845a36d4a984917edd7609cb51d2ce1962a","urls":["bzz-raw://b4af279e518cff065f5ce782e0cb56c75eac182745e37ade582817876dd4ac2e","dweb:/ipfs/QmX9SVyHDd52d8NFiyfVh74rVcSDnXLi9WqVLgDarHBvj4"],"license":"GPL-2.0-or-later"}},"version":1},"storageLayout":{"storage":[{"astId":44670,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"mmrRoot","offset":0,"slot":"0","type":"t_bytes32"},{"astId":44675,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"checkpoints","offset":0,"slot":"1","type":"t_mapping(t_bytes32,t_struct(Checkpoint)46176_storage)"}],"types":{"t_bytes32":{"encoding":"inplace","label":"bytes32","numberOfBytes":"32"},"t_mapping(t_bytes32,t_struct(Checkpoint)46176_storage)":{"encoding":"mapping","key":"t_bytes32","label":"mapping(bytes32 => struct Checkpoint)","numberOfBytes":"32","value":"t_struct(Checkpoint)46176_storage"},"t_struct(Checkpoint)46176_storage":{"encoding":"inplace","label":"struct Checkpoint","numberOfBytes":"64","members":[{"astId":46173,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"height","offset":0,"slot":"0","type":"t_uint32"},{"astId":46175,"contract":"src/BitcoinLightClient.sol:BitcoinLightClient","label":"cumulativeChainwork","offset":0,"slot":"1","type":"t_uint256"}]},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"},"t_uint32":{"encoding":"inplace","label":"uint32","numberOfBytes":"4"}}},"ast":{"absolutePath":"src/BitcoinLightClient.sol","id":44855,"exportedSymbols":{"BitcoinLightClient":[44854],"BlockLeaf":[46171],"Checkpoint":[46176],"HashLib":[47275],"IBitcoinLightClient":[46227],"MMRProofLib":[47480]},"nodeType":"SourceUnit","src":"45:5208:39","nodes":[{"id":44653,"nodeType":"PragmaDirective","src":"45:24:39","nodes":[],"literals":["solidity","=","0.8",".28"]},{"id":44657,"nodeType":"ImportDirective","src":"71:96:39","nodes":[],"absolutePath":"src/interfaces/IBitcoinLightClient.sol","file":"./interfaces/IBitcoinLightClient.sol","nameLocation":"-1:-1:-1","scope":44855,"sourceUnit":46228,"symbolAliases":[{"foreign":{"id":44654,"name":"IBitcoinLightClient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46227,"src":"79:19:39","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":44655,"name":"BlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46171,"src":"100:9:39","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":44656,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46176,"src":"111:10:39","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":44659,"nodeType":"ImportDirective","src":"169:53:39","nodes":[],"absolutePath":"src/libraries/MMRProof.sol","file":"./libraries/MMRProof.sol","nameLocation":"-1:-1:-1","scope":44855,"sourceUnit":47481,"symbolAliases":[{"foreign":{"id":44658,"name":"MMRProofLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47480,"src":"177:11:39","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":44661,"nodeType":"ImportDirective","src":"223:48:39","nodes":[],"absolutePath":"src/libraries/HashLib.sol","file":"./libraries/HashLib.sol","nameLocation":"-1:-1:-1","scope":44855,"sourceUnit":47276,"symbolAliases":[{"foreign":{"id":44660,"name":"HashLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47275,"src":"231:7:39","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":44854,"nodeType":"ContractDefinition","src":"673:4579:39","nodes":[{"id":44668,"nodeType":"UsingForDirective","src":"739:28:39","nodes":[],"global":false,"libraryName":{"id":44665,"name":"HashLib","nameLocations":["745:7:39"],"nodeType":"IdentifierPath","referencedDeclaration":47275,"src":"745:7:39"},"typeName":{"id":44667,"nodeType":"UserDefinedTypeName","pathNode":{"id":44666,"name":"BlockLeaf","nameLocations":["757:9:39"],"nodeType":"IdentifierPath","referencedDeclaration":46171,"src":"757:9:39"},"referencedDeclaration":46171,"src":"757:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_storage_ptr","typeString":"struct BlockLeaf"}}},{"id":44670,"nodeType":"VariableDeclaration","src":"773:22:39","nodes":[],"baseFunctions":[46197],"constant":false,"functionSelector":"d21ddc61","mutability":"mutable","name":"mmrRoot","nameLocation":"788:7:39","scope":44854,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44669,"name":"bytes32","nodeType":"ElementaryTypeName","src":"773:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":44675,"nodeType":"VariableDeclaration","src":"1309:49:39","nodes":[],"baseFunctions":[46207],"constant":false,"functionSelector":"eb5e91ff","mutability":"mutable","name":"checkpoints","nameLocation":"1347:11:39","scope":44854,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint)"},"typeName":{"id":44674,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":44671,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1317:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1309:30:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":44673,"nodeType":"UserDefinedTypeName","pathNode":{"id":44672,"name":"Checkpoint","nameLocations":["1328:10:39"],"nodeType":"IdentifierPath","referencedDeclaration":46176,"src":"1328:10:39"},"referencedDeclaration":46176,"src":"1328:10:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage_ptr","typeString":"struct Checkpoint"}}},"visibility":"public"},{"id":44700,"nodeType":"FunctionDefinition","src":"1794:263:39","nodes":[],"body":{"id":44699,"nodeType":"Block","src":"1856:201:39","nodes":[],"statements":[{"expression":{"id":44686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44684,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44670,"src":"1866:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":44685,"name":"_mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44678,"src":"1876:8:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1866:18:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44687,"nodeType":"ExpressionStatement","src":"1866:18:39"},{"expression":{"id":44697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":44688,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44675,"src":"1894:11:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":44690,"indexExpression":{"id":44689,"name":"_mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44678,"src":"1906:8:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1894:21:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":44692,"name":"_tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44681,"src":"1951:13:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44693,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1965:6:39","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46168,"src":"1951:20:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":44694,"name":"_tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44681,"src":"2006:13:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44695,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2020:19:39","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46170,"src":"2006:33:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":44691,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46176,"src":"1918:10:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Checkpoint_$46176_storage_ptr_$","typeString":"type(struct Checkpoint storage pointer)"}},"id":44696,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["1943:6:39","1985:19:39"],"names":["height","cumulativeChainwork"],"nodeType":"FunctionCall","src":"1918:132:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_memory_ptr","typeString":"struct Checkpoint memory"}},"src":"1894:156:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"id":44698,"nodeType":"ExpressionStatement","src":"1894:156:39"}]},"documentation":{"id":44676,"nodeType":"StructuredDocumentation","src":"1365:424:39","text":" @notice Initializes the light client with an MMR root\n @param _mmrRoot The initial MMR root\n @param _tipBlockLeaf The tip block leaf of the initial MMR root\n @dev The _mmrRoot and _tipBlockLeaf seed the initial state of the chain without explicit verification\n The _mmrRoot's correctness is easily confirmed by building the complete block MMR offchain from genesis to _tipBlockLeaf"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":44682,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44678,"mutability":"mutable","name":"_mmrRoot","nameLocation":"1814:8:39","nodeType":"VariableDeclaration","scope":44700,"src":"1806:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44677,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1806:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":44681,"mutability":"mutable","name":"_tipBlockLeaf","nameLocation":"1841:13:39","nodeType":"VariableDeclaration","scope":44700,"src":"1824:30:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":44680,"nodeType":"UserDefinedTypeName","pathNode":{"id":44679,"name":"BlockLeaf","nameLocations":["1824:9:39"],"nodeType":"IdentifierPath","referencedDeclaration":46171,"src":"1824:9:39"},"referencedDeclaration":46171,"src":"1824:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"}],"src":"1805:50:39"},"returnParameters":{"id":44683,"nodeType":"ParameterList","parameters":[],"src":"1856:0:39"},"scope":44854,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":44761,"nodeType":"FunctionDefinition","src":"2814:963:39","nodes":[],"body":{"id":44760,"nodeType":"Block","src":"2917:860:39","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":44713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44711,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44705,"src":"3014:10:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":44712,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44670,"src":"3028:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3014:21:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44716,"nodeType":"IfStatement","src":"3010:58:39","trueBody":{"id":44715,"nodeType":"Block","src":"3037:31:39","statements":[{"functionReturnParameters":44710,"id":44714,"nodeType":"Return","src":"3051:7:39"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44722,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":44717,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44675,"src":"3136:11:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":44719,"indexExpression":{"id":44718,"name":"priorMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44703,"src":"3148:12:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3136:25:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"id":44720,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3162:19:39","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46175,"src":"3136:45:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":44721,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3185:1:39","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3136:50:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44727,"nodeType":"IfStatement","src":"3132:114:39","trueBody":{"id":44726,"nodeType":"Block","src":"3188:58:39","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":44723,"name":"CheckpointNotEstablished","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46185,"src":"3209:24:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":44724,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3209:26:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":44725,"nodeType":"RevertStatement","src":"3202:33:39"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":44734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":44728,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44675,"src":"3336:11:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":44730,"indexExpression":{"id":44729,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44670,"src":"3348:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3336:20:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"id":44731,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3357:19:39","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46175,"src":"3336:40:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":44732,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44708,"src":"3380:12:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44733,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3393:19:39","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46170,"src":"3380:32:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3336:76:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44739,"nodeType":"IfStatement","src":"3332:131:39","trueBody":{"id":44738,"nodeType":"Block","src":"3414:49:39","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":44735,"name":"ChainworkTooLow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46183,"src":"3435:15:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":44736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3435:17:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":44737,"nodeType":"RevertStatement","src":"3428:24:39"}]}},{"expression":{"id":44749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":44740,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44675,"src":"3518:11:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":44742,"indexExpression":{"id":44741,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44705,"src":"3530:10:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3518:23:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":44744,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44708,"src":"3577:12:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44745,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3590:6:39","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46168,"src":"3577:19:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":44746,"name":"tipBlockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44708,"src":"3631:12:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44747,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3644:19:39","memberName":"cumulativeChainwork","nodeType":"MemberAccess","referencedDeclaration":46170,"src":"3631:32:39","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":44743,"name":"Checkpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46176,"src":"3544:10:39","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Checkpoint_$46176_storage_ptr_$","typeString":"type(struct Checkpoint storage pointer)"}},"id":44748,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["3569:6:39","3610:19:39"],"names":["height","cumulativeChainwork"],"nodeType":"FunctionCall","src":"3544:130:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_memory_ptr","typeString":"struct Checkpoint memory"}},"src":"3518:156:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"id":44750,"nodeType":"ExpressionStatement","src":"3518:156:39"},{"expression":{"id":44753,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":44751,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44670,"src":"3684:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":44752,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44705,"src":"3694:10:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3684:20:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44754,"nodeType":"ExpressionStatement","src":"3684:20:39"},{"eventCall":{"arguments":[{"id":44756,"name":"priorMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44703,"src":"3745:12:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":44757,"name":"newMmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44705,"src":"3759:10:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":44755,"name":"BitcoinLightClientUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46191,"src":"3719:25:39","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (bytes32,bytes32)"}},"id":44758,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3719:51:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44759,"nodeType":"EmitStatement","src":"3714:56:39"}]},"documentation":{"id":44701,"nodeType":"StructuredDocumentation","src":"2063:746:39","text":" @notice Extends the light client chain. The caller of this function must ensure:\n - All committed blocks are in a sequential chain and satisfy PoW rules\n - All blocks being committed to in the MMR are provably available (stored in calldata/blobspace)\n @param priorMmrRoot The mmr root the update was built from\n @param newMmrRoot The updated mmr root\n @param tipBlockLeaf The tip of the chain at the `newMmrRoot`\n @dev Updates the root if and only if:\n      1. The prior root is an established checkpoint\n      2. The new root is different from the current root\n      3. The chainwork of the updated chain is greater than or equal to the chainwork of the current checkpoint"},"implemented":true,"kind":"function","modifiers":[],"name":"_updateRoot","nameLocation":"2823:11:39","parameters":{"id":44709,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44703,"mutability":"mutable","name":"priorMmrRoot","nameLocation":"2843:12:39","nodeType":"VariableDeclaration","scope":44761,"src":"2835:20:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44702,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2835:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":44705,"mutability":"mutable","name":"newMmrRoot","nameLocation":"2865:10:39","nodeType":"VariableDeclaration","scope":44761,"src":"2857:18:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44704,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2857:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":44708,"mutability":"mutable","name":"tipBlockLeaf","nameLocation":"2894:12:39","nodeType":"VariableDeclaration","scope":44761,"src":"2877:29:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":44707,"nodeType":"UserDefinedTypeName","pathNode":{"id":44706,"name":"BlockLeaf","nameLocations":["2877:9:39"],"nodeType":"IdentifierPath","referencedDeclaration":46171,"src":"2877:9:39"},"referencedDeclaration":46171,"src":"2877:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"}],"src":"2834:73:39"},"returnParameters":{"id":44710,"nodeType":"ParameterList","parameters":[],"src":"2917:0:39"},"scope":44854,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":44773,"nodeType":"FunctionDefinition","src":"3823:109:39","nodes":[],"body":{"id":44772,"nodeType":"Block","src":"3881:51:39","nodes":[],"statements":[{"expression":{"expression":{"baseExpression":{"id":44767,"name":"checkpoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44675,"src":"3898:11:39","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_Checkpoint_$46176_storage_$","typeString":"mapping(bytes32 => struct Checkpoint storage ref)"}},"id":44769,"indexExpression":{"id":44768,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44670,"src":"3910:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3898:20:39","typeDescriptions":{"typeIdentifier":"t_struct$_Checkpoint_$46176_storage","typeString":"struct Checkpoint storage ref"}},"id":44770,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3919:6:39","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46173,"src":"3898:27:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"functionReturnParameters":44766,"id":44771,"nodeType":"Return","src":"3891:34:39"}]},"baseFunctions":[46213],"documentation":{"id":44762,"nodeType":"StructuredDocumentation","src":"3783:35:39","text":"@inheritdoc IBitcoinLightClient"},"functionSelector":"cc38cd7d","implemented":true,"kind":"function","modifiers":[],"name":"lightClientHeight","nameLocation":"3832:17:39","parameters":{"id":44763,"nodeType":"ParameterList","parameters":[],"src":"3849:2:39"},"returnParameters":{"id":44766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44765,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44773,"src":"3873:6:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":44764,"name":"uint32","nodeType":"ElementaryTypeName","src":"3873:6:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"3872:8:39"},"scope":44854,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":44816,"nodeType":"FunctionDefinition","src":"3978:408:39","nodes":[],"body":{"id":44815,"nodeType":"Block","src":"4129:257:39","nodes":[],"statements":[{"assignments":[44787],"declarations":[{"constant":false,"id":44787,"mutability":"mutable","name":"leafHash","nameLocation":"4147:8:39","nodeType":"VariableDeclaration","scope":44815,"src":"4139:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":44786,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4139:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":44791,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":44788,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44777,"src":"4158:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44789,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4168:4:39","memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":47257,"src":"4158:14:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_BlockLeaf_$46171_memory_ptr_$returns$_t_bytes32_$attached_to$_t_struct$_BlockLeaf_$46171_memory_ptr_$","typeString":"function (struct BlockLeaf memory) pure returns (bytes32)"}},"id":44790,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4158:16:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"4139:35:39"},{"assignments":[44793],"declarations":[{"constant":false,"id":44793,"mutability":"mutable","name":"leafIndex","nameLocation":"4191:9:39","nodeType":"VariableDeclaration","scope":44815,"src":"4184:16:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":44792,"name":"uint32","nodeType":"ElementaryTypeName","src":"4184:6:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":44796,"initialValue":{"expression":{"id":44794,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44777,"src":"4203:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44795,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4213:6:39","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46168,"src":"4203:16:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"4184:35:39"},{"condition":{"id":44809,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4233:96:39","subExpression":{"arguments":[{"id":44799,"name":"leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44787,"src":"4258:8:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":44800,"name":"leafIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44793,"src":"4268:9:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":44801,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44780,"src":"4279:8:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"id":44802,"name":"peaks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44783,"src":"4289:5:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":44806,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":44803,"name":"lightClientHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44773,"src":"4296:17:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint32_$","typeString":"function () view returns (uint32)"}},"id":44804,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4296:19:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":44805,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4318:1:39","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"4296:23:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":44807,"name":"mmrRoot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44670,"src":"4321:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":44797,"name":"MMRProofLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47480,"src":"4234:11:39","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_MMRProofLib_$47480_$","typeString":"type(library MMRProofLib)"}},"id":44798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4246:11:39","memberName":"verifyProof","nodeType":"MemberAccess","referencedDeclaration":47421,"src":"4234:23:39","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_uint32_$_t_bytes32_$returns$_t_bool_$","typeString":"function (bytes32,uint256,bytes32[] memory,bytes32[] memory,uint32,bytes32) pure returns (bool)"}},"id":44808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4234:95:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44814,"nodeType":"IfStatement","src":"4229:151:39","trueBody":{"id":44813,"nodeType":"Block","src":"4331:49:39","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":44810,"name":"BlockNotInChain","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46179,"src":"4352:15:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":44811,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4352:17:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":44812,"nodeType":"RevertStatement","src":"4345:24:39"}]}}]},"baseFunctions":[46226],"documentation":{"id":44774,"nodeType":"StructuredDocumentation","src":"3938:35:39","text":"@inheritdoc IBitcoinLightClient"},"functionSelector":"a24462ea","implemented":true,"kind":"function","modifiers":[],"name":"verifyBlockInclusion","nameLocation":"3987:20:39","parameters":{"id":44784,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44777,"mutability":"mutable","name":"blockLeaf","nameLocation":"4034:9:39","nodeType":"VariableDeclaration","scope":44816,"src":"4017:26:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":44776,"nodeType":"UserDefinedTypeName","pathNode":{"id":44775,"name":"BlockLeaf","nameLocations":["4017:9:39"],"nodeType":"IdentifierPath","referencedDeclaration":46171,"src":"4017:9:39"},"referencedDeclaration":46171,"src":"4017:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"},{"constant":false,"id":44780,"mutability":"mutable","name":"siblings","nameLocation":"4070:8:39","nodeType":"VariableDeclaration","scope":44816,"src":"4053:25:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":44778,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4053:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44779,"nodeType":"ArrayTypeName","src":"4053:9:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":44783,"mutability":"mutable","name":"peaks","nameLocation":"4105:5:39","nodeType":"VariableDeclaration","scope":44816,"src":"4088:22:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":44781,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4088:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44782,"nodeType":"ArrayTypeName","src":"4088:9:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"src":"4007:109:39"},"returnParameters":{"id":44785,"nodeType":"ParameterList","parameters":[],"src":"4129:0:39"},"scope":44854,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":44853,"nodeType":"FunctionDefinition","src":"4829:421:39","nodes":[],"body":{"id":44852,"nodeType":"Block","src":"5046:204:39","nodes":[],"statements":[{"expression":{"arguments":[{"id":44832,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44820,"src":"5077:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},{"id":44833,"name":"siblings","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44823,"src":"5088:8:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}},{"id":44834,"name":"peaks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44826,"src":"5098:5:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}],"id":44831,"name":"verifyBlockInclusion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44816,"src":"5056:20:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_BlockLeaf_$46171_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$returns$__$","typeString":"function (struct BlockLeaf memory,bytes32[] memory,bytes32[] memory) view"}},"id":44835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5056:48:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":44836,"nodeType":"ExpressionStatement","src":"5056:48:39"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":44846,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":44837,"name":"lightClientHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44773,"src":"5118:17:39","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint32_$","typeString":"function () view returns (uint32)"}},"id":44838,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5118:19:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":44845,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":44839,"name":"blockLeaf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44820,"src":"5140:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf memory"}},"id":44840,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5150:6:39","memberName":"height","nodeType":"MemberAccess","referencedDeclaration":46168,"src":"5140:16:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":44843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":44841,"name":"expectedConfirmationBlocks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44828,"src":"5160:26:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":44842,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5189:1:39","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5160:30:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"id":44844,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5159:32:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"5140:51:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"5118:73:39","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":44851,"nodeType":"IfStatement","src":"5114:130:39","trueBody":{"id":44850,"nodeType":"Block","src":"5193:51:39","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":44847,"name":"BlockNotConfirmed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46181,"src":"5214:17:39","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":44848,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5214:19:39","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":44849,"nodeType":"RevertStatement","src":"5207:26:39"}]}}]},"documentation":{"id":44817,"nodeType":"StructuredDocumentation","src":"4392:432:39","text":" @notice Verifies that a block is included in the verified chain (MMR) and that it has the required number of confirmations\n @param blockLeaf The block leaf to verify.\n @param siblings The sibling nodes of the block leaf in the MMR.\n @param peaks The peak nodes of the block leaf in the MMR.\n @param expectedConfirmationBlocks The number of blocks that must be built on top of the blockLeaf"},"implemented":true,"kind":"function","modifiers":[],"name":"_verifyBlockInclusionAndConfirmations","nameLocation":"4838:37:39","parameters":{"id":44829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44820,"mutability":"mutable","name":"blockLeaf","nameLocation":"4902:9:39","nodeType":"VariableDeclaration","scope":44853,"src":"4885:26:39","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_memory_ptr","typeString":"struct BlockLeaf"},"typeName":{"id":44819,"nodeType":"UserDefinedTypeName","pathNode":{"id":44818,"name":"BlockLeaf","nameLocations":["4885:9:39"],"nodeType":"IdentifierPath","referencedDeclaration":46171,"src":"4885:9:39"},"referencedDeclaration":46171,"src":"4885:9:39","typeDescriptions":{"typeIdentifier":"t_struct$_BlockLeaf_$46171_storage_ptr","typeString":"struct BlockLeaf"}},"visibility":"internal"},{"constant":false,"id":44823,"mutability":"mutable","name":"siblings","nameLocation":"4940:8:39","nodeType":"VariableDeclaration","scope":44853,"src":"4921:27:39","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":44821,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4921:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44822,"nodeType":"ArrayTypeName","src":"4921:9:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":44826,"mutability":"mutable","name":"peaks","nameLocation":"4977:5:39","nodeType":"VariableDeclaration","scope":44853,"src":"4958:24:39","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":44824,"name":"bytes32","nodeType":"ElementaryTypeName","src":"4958:7:39","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":44825,"nodeType":"ArrayTypeName","src":"4958:9:39","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":44828,"mutability":"mutable","name":"expectedConfirmationBlocks","nameLocation":"4999:26:39","nodeType":"VariableDeclaration","scope":44853,"src":"4992:33:39","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":44827,"name":"uint32","nodeType":"ElementaryTypeName","src":"4992:6:39","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"4875:156:39"},"returnParameters":{"id":44830,"nodeType":"ParameterList","parameters":[],"src":"5046:0:39"},"scope":44854,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":44663,"name":"IBitcoinLightClient","nameLocations":["713:19:39"],"nodeType":"IdentifierPath","referencedDeclaration":46227,"src":"713:19:39"},"id":44664,"nodeType":"InheritanceSpecifier","src":"713:19:39"}],"canonicalName":"BitcoinLightClient","contractDependencies":[],"contractKind":"contract","documentation":{"id":44662,"nodeType":"StructuredDocumentation","src":"273:399:39","text":" @title Bitcoin Light Client\n @notice A Bitcoin light client implementation that maintains a Merkle Mountain Range (MMR)\n of Bitcoin blocks for verification purposes\n Each block is stored as a leaf in the MMR containing:\n - Block hash\n - Block height\n - Cumulative chainwork\n Updates to the MMR root rely on a proof that the new leaves satisfy the Bitcoin Consensus rules."},"fullyImplemented":true,"linearizedBaseContracts":[44854,46227],"name":"BitcoinLightClient","nameLocation":"691:18:39","scope":44855,"usedErrors":[46179,46181,46183,46185],"usedEvents":[46191]}],"license":"GPL-2.0-or-later"},"id":39}